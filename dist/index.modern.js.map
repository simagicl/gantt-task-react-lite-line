{"version":3,"file":"index.modern.js","sources":["../src/types/public-types.ts","../src/helpers/date-helper.ts","../src/components/task-list/task-list-header.tsx","../src/components/task-list/task-list-table.tsx","../src/components/other/tooltip.tsx","../src/components/other/vertical-scroll.tsx","../src/components/task-list/task-list.tsx","../src/components/grid/grid-body.tsx","../src/components/grid/grid.tsx","../src/components/calendar/top-part-of-calendar.tsx","../src/components/calendar/calendar.tsx","../node_modules/babel-plugin-transform-async-to-promises/helpers.mjs","../src/components/other/arrow.tsx","../src/helpers/bar-helper.ts","../src/helpers/other-helper.ts","../src/components/task-item/bar/bar-display.tsx","../src/components/task-item/bar/bar-date-handle.tsx","../src/components/task-item/bar/bar-progress-handle.tsx","../src/components/task-item/bar/bar.tsx","../src/components/task-item/bar/bar-small.tsx","../src/components/task-item/milestone/milestone.tsx","../src/components/task-item/project/project.tsx","../src/components/task-item/task-item.tsx","../src/components/gantt/task-gantt-content.tsx","../src/components/gantt/task-gantt.tsx","../src/components/other/horizontal-scroll.tsx","../src/components/gantt/gantt.tsx"],"sourcesContent":["export enum ViewMode {\n  Hour = \"Hour\",\n  QuarterDay = \"Quarter Day\",\n  HalfDay = \"Half Day\",\n  Day = \"Day\",\n  /** ISO-8601 week */\n  Week = \"Week\",\n  Month = \"Month\",\n  QuarterYear = \"QuarterYear\",\n  Year = \"Year\",\n}\nexport type TaskType = \"task\" | \"milestone\" | \"project\";\nexport interface Task {\n  id: string;\n  type: TaskType;\n  name: string;\n  start: Date;\n  end: Date;\n  /**\n   * From 0 to 100\n   */\n  progress: number;\n  styles?: {\n    backgroundColor?: string;\n    backgroundSelectedColor?: string;\n    progressColor?: string;\n    progressSelectedColor?: string;\n  };\n  isDisabled?: boolean;\n  project?: string;\n  dependencies?: string[];\n  hideChildren?: boolean;\n  displayOrder?: number;\n  subtasks?: SubTask[];  // <---- Aquí añadimos el campo subtareas\n\n}\n\nexport interface SubTask {\n  id: string;\n  type: TaskType;\n  name: string;\n  start: Date;\n  end: Date;\n  /**\n   * From 0 to 100\n   */\n  progress: number;\n  styles?: {\n    backgroundColor?: string;\n    backgroundSelectedColor?: string;\n    progressColor?: string;\n    progressSelectedColor?: string;\n  };\n  isDisabled?: boolean;\n  project?: string;\n  dependencies?: string[];\n  hideChildren?: boolean;\n  displayOrder?: number;\n\n}\n\nexport interface EventOption {\n  /**\n   * Time step value for date changes.\n   */\n  timeStep?: number;\n  /**\n   * Invokes on bar select on unselect.\n   */\n  onSelect?: (task: Task, isSelected: boolean) => void;\n  /**\n   * Invokes on bar double click.\n   */\n  onDoubleClick?: (task: Task) => void;\n  /**\n   * Invokes on bar click.\n   */\n  onClick?: (task: Task) => void;\n  /**\n   * Invokes on end and start time change. Chart undoes operation if method return false or error.\n   */\n  onDateChange?: (\n    task: Task,\n    children: Task[]\n  ) => void | boolean | Promise<void> | Promise<boolean>;\n  /**\n   * Invokes on progress change. Chart undoes operation if method return false or error.\n   */\n  onProgressChange?: (\n    task: Task,\n    children: Task[]\n  ) => void | boolean | Promise<void> | Promise<boolean>;\n  /**\n   * Invokes on delete selected task. Chart undoes operation if method return false or error.\n   */\n  onDelete?: (task: Task) => void | boolean | Promise<void> | Promise<boolean>;\n  /**\n   * Invokes on expander on task list\n   */\n  onExpanderClick?: (task: Task) => void;\n}\n\nexport interface DisplayOption {\n  viewMode?: ViewMode;\n  viewDate?: Date;\n  preStepsCount?: number;\n  /**\n   * Specifies the month name language. Able formats: ISO 639-2, Java Locale\n   */\n  locale?: string;\n  weekPrefix?: string;\n  rtl?: boolean;\n}\n\nexport interface StylingOption {\n  headerHeight?: number;\n  columnWidth?: number;\n  listCellWidth?: string;\n  rowHeight?: number;\n  ganttHeight?: number;\n  barCornerRadius?: number;\n  handleWidth?: number;\n  fontFamily?: string;\n  fontSize?: string;\n  /**\n   * How many of row width can be taken by task.\n   * From 0 to 100\n   */\n  barFill?: number;\n  barProgressColor?: string;\n  barProgressSelectedColor?: string;\n  barBackgroundColor?: string;\n  barBackgroundSelectedColor?: string;\n  projectProgressColor?: string;\n  projectProgressSelectedColor?: string;\n  projectBackgroundColor?: string;\n  projectBackgroundSelectedColor?: string;\n  milestoneBackgroundColor?: string;\n  milestoneBackgroundSelectedColor?: string;\n  arrowColor?: string;\n  arrowIndent?: number;\n  todayColor?: string;\n  todayLineColor?: string;\n  TooltipContent?: React.FC<{\n    task: Task;\n    fontSize: string;\n    fontFamily: string;\n  }>;\n  TaskListHeader?: React.FC<{\n    headerHeight: number;\n    rowWidth: string;\n    fontFamily: string;\n    fontSize: string;\n  }>;\n  TaskListTable?: React.FC<{\n    rowHeight: number;\n    rowWidth: string;\n    fontFamily: string;\n    fontSize: string;\n    locale: string;\n    tasks: Task[];\n    selectedTaskId: string;\n    /**\n     * Sets selected task by id\n     */\n    setSelectedTask: (taskId: string) => void;\n    onExpanderClick: (task: Task) => void;\n  }>;\n}\n\nexport interface GanttProps extends EventOption, DisplayOption, StylingOption {\n  tasks: Task[];\n}\n","import { Task, ViewMode } from \"../types/public-types\";\n\n\n\ntype DateHelperScales =\n  | \"year\"\n  | \"month\"\n  | \"day\"\n  | \"hour\"\n  | \"minute\"\n  | \"second\"\n  | \"millisecond\";\n\n  interface IntlDTCache {\n    [key: string]: Intl.DateTimeFormat;\n  }\n  \n  const intlDTCache: IntlDTCache = {};\n\n  export const getCachedDateTimeFormat = (\n    locString: string | string[],\n    opts: Intl.DateTimeFormatOptions = {}\n  ): Intl.DateTimeFormat => {\n    const key = JSON.stringify([locString, opts]);\n    let dtf = intlDTCache[key];\n    if (!dtf) {\n      dtf = new Intl.DateTimeFormat(locString, opts);\n      intlDTCache[key] = dtf;\n    }\n    return dtf;\n  };\n\nexport const addToDate = (\n  date: Date,\n  quantity: number,\n  scale: DateHelperScales\n) => {\n  const newDate = new Date(\n    date.getFullYear() + (scale === \"year\" ? quantity : 0),\n    date.getMonth() + (scale === \"month\" ? quantity : 0),\n    date.getDate() + (scale === \"day\" ? quantity : 0),\n    date.getHours() + (scale === \"hour\" ? quantity : 0),\n    date.getMinutes() + (scale === \"minute\" ? quantity : 0),\n    date.getSeconds() + (scale === \"second\" ? quantity : 0),\n    date.getMilliseconds() + (scale === \"millisecond\" ? quantity : 0)\n  );\n  return newDate;\n};\n\nexport const startOfDate = (date: Date, scale: DateHelperScales) => {\n  const scores = [\n    \"millisecond\",\n    \"second\",\n    \"minute\",\n    \"hour\",\n    \"day\",\n    \"month\",\n    \"year\",\n  ];\n\n  const shouldReset = (_scale: DateHelperScales) => {\n    const maxScore = scores.indexOf(scale);\n    return scores.indexOf(_scale) <= maxScore;\n  };\n  const newDate = new Date(\n    date.getFullYear(),\n    shouldReset(\"year\") ? 0 : date.getMonth(),\n    shouldReset(\"month\") ? 1 : date.getDate(),\n    shouldReset(\"day\") ? 0 : date.getHours(),\n    shouldReset(\"hour\") ? 0 : date.getMinutes(),\n    shouldReset(\"minute\") ? 0 : date.getSeconds(),\n    shouldReset(\"second\") ? 0 : date.getMilliseconds()\n  );\n  return newDate;\n};\n\nexport const ganttDateRange = (\n  tasks: Task[],\n  viewMode: ViewMode,\n  preStepsCount: number\n) => {\n  let newStartDate: Date = tasks[0].start;\n  let newEndDate: Date = tasks[0].start;\n  for (const task of tasks) {\n    if (task.start < newStartDate) {\n      newStartDate = task.start;\n    }\n    if (task.end > newEndDate) {\n      newEndDate = task.end;\n    }\n  }\n  switch (viewMode) {\n    case ViewMode.Year:\n      newStartDate = addToDate(newStartDate, -1, \"year\");\n      newStartDate = startOfDate(newStartDate, \"year\");\n      newEndDate = addToDate(newEndDate, 1, \"year\");\n      newEndDate = startOfDate(newEndDate, \"year\");\n      break;\n    case ViewMode.QuarterYear:\n      newStartDate = addToDate(newStartDate, -3, \"month\");\n      newStartDate = startOfDate(newStartDate, \"month\");\n      newEndDate = addToDate(newEndDate, 3, \"year\");\n      newEndDate = startOfDate(newEndDate, \"year\");\n      break;\n    case ViewMode.Month:\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"month\");\n      newStartDate = startOfDate(newStartDate, \"month\");\n      newEndDate = addToDate(newEndDate, 1, \"year\");\n      newEndDate = startOfDate(newEndDate, \"year\");\n      break;\n    case ViewMode.Week:\n      newStartDate = startOfDate(newStartDate, \"day\");\n      newStartDate = addToDate(\n        getMonday(newStartDate),\n        -7 * preStepsCount,\n        \"day\"\n      );\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 1.5, \"month\");\n      break;\n    case ViewMode.Day:\n      newStartDate = startOfDate(newStartDate, \"day\");\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"day\");\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 19, \"day\");\n      break;\n    case ViewMode.QuarterDay:\n      newStartDate = startOfDate(newStartDate, \"day\");\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"day\");\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 66, \"hour\"); // 24(1 day)*3 - 6\n      break;\n    case ViewMode.HalfDay:\n      newStartDate = startOfDate(newStartDate, \"day\");\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"day\");\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 108, \"hour\"); // 24(1 day)*5 - 12\n      break;\n    case ViewMode.Hour:\n      newStartDate = startOfDate(newStartDate, \"hour\");\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"hour\");\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 1, \"day\");\n      break;\n  }\n  return [newStartDate, newEndDate];\n};\n\nexport const seedDates = (\n  startDate: Date,\n  endDate: Date,\n  viewMode: ViewMode\n) => {\n  let currentDate: Date = new Date(startDate);\n  const dates: Date[] = [currentDate];\n  while (currentDate < endDate) {\n    switch (viewMode) {\n      case ViewMode.Year:\n        currentDate = addToDate(currentDate, 1, \"year\");\n        break;\n      case ViewMode.QuarterYear:\n        currentDate = addToDate(currentDate, 3, \"month\");\n        break;\n      case ViewMode.Month:\n        currentDate = addToDate(currentDate, 1, \"month\");\n        break;\n      case ViewMode.Week:\n        currentDate = addToDate(currentDate, 7, \"day\");\n        break;\n      case ViewMode.Day:\n        currentDate = addToDate(currentDate, 1, \"day\");\n        break;\n      case ViewMode.HalfDay:\n        currentDate = addToDate(currentDate, 12, \"hour\");\n        break;\n      case ViewMode.QuarterDay:\n        currentDate = addToDate(currentDate, 6, \"hour\");\n        break;\n      case ViewMode.Hour:\n        currentDate = addToDate(currentDate, 1, \"hour\");\n        break;\n    }\n    dates.push(currentDate);\n  }\n  return dates;\n};\n\nexport const getLocaleMonth = (date: Date, locale: string) => {\n  let bottomValue = getCachedDateTimeFormat(locale, {\n    month: \"long\",\n  }).format(date);\n  bottomValue = bottomValue.replace(\n    bottomValue[0],\n    bottomValue[0].toLocaleUpperCase()\n  );\n  return bottomValue;\n};\n\nexport const getLocalDayOfWeek = (\n  date: Date,\n  locale: string,\n  format?: \"long\" | \"short\" | \"narrow\" | undefined\n) => {\n  let bottomValue = getCachedDateTimeFormat(locale, {\n    weekday: format,\n  }).format(date);\n  bottomValue = bottomValue.replace(\n    bottomValue[0],\n    bottomValue[0].toLocaleUpperCase()\n  );\n  return bottomValue;\n};\n\n/**\n * Returns monday of current week\n * @param date date for modify\n */\nconst getMonday = (date: Date) => {\n  const day = date.getDay();\n  const diff = date.getDate() - day + (day === 0 ? -6 : 1); // adjust when day is sunday\n  return new Date(date.setDate(diff));\n};\n\nexport const getWeekNumberISO8601 = (date: Date) => {\n  const tmpDate = new Date(date.valueOf());\n  const dayNumber = (tmpDate.getDay() + 6) % 7;\n  tmpDate.setDate(tmpDate.getDate() - dayNumber + 3);\n  const firstThursday = tmpDate.valueOf();\n  tmpDate.setMonth(0, 1);\n  if (tmpDate.getDay() !== 4) {\n    tmpDate.setMonth(0, 1 + ((4 - tmpDate.getDay() + 7) % 7));\n  }\n  const weekNumber = (\n    1 + Math.ceil((firstThursday - tmpDate.valueOf()) / 604800000)\n  ).toString();\n\n  if (weekNumber.length === 1) {\n    return `0${weekNumber}`;\n  } else {\n    return weekNumber;\n  }\n};\n\nexport const getDaysInMonth = (month: number, year: number) => {\n  return new Date(year, month + 1, 0).getDate();\n};\n","import React from \"react\";\nimport styles from \"./task-list-header.module.css\";\n\nexport const TaskListHeaderDefault: React.FC<{\n  headerHeight: number;\n  rowWidth: string;\n  fontFamily: string;\n  fontSize: string;\n}> = ({ headerHeight, fontFamily, fontSize, rowWidth }) => {\n  return (\n    <div\n      className={styles.ganttTable}\n      style={{\n        fontFamily: fontFamily,\n        fontSize: fontSize,\n      }}\n    >\n      <div\n        className={styles.ganttTable_Header}\n        style={{\n          height: headerHeight - 2,\n        }}\n      >\n        <div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: rowWidth,\n          }}\n        >\n          &nbsp;Name\n        </div>\n        <div\n          className={styles.ganttTable_HeaderSeparator}\n          style={{\n            height: headerHeight * 0.5,\n            marginTop: headerHeight * 0.2,\n          }}\n        />\n        <div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: rowWidth,\n          }}\n        >\n          &nbsp;From\n        </div>\n        <div\n          className={styles.ganttTable_HeaderSeparator}\n          style={{\n            height: headerHeight * 0.5,\n            marginTop: headerHeight * 0.25,\n          }}\n        />\n        <div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: rowWidth,\n          }}\n        >\n          &nbsp;To\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { useMemo } from \"react\";\nimport styles from \"./task-list-table.module.css\";\nimport { Task } from \"../../types/public-types\";\n\ninterface DateStringCache {\n  [key: string]: string;\n}\nconst localeDateStringCache: DateStringCache = {};\n\nconst toLocaleDateStringFactory =\n  (locale: string) =>\n  (date: Date, dateTimeOptions: Intl.DateTimeFormatOptions) => {\n    const key = date.toString();\n    let lds = localeDateStringCache[key];\n    if (!lds) {\n      lds = date.toLocaleDateString(locale, dateTimeOptions);\n      localeDateStringCache[key] = lds;\n    }\n    return lds;\n  };\n\n\nconst dateTimeOptions: Intl.DateTimeFormatOptions = {\n  weekday: \"short\",\n  year: \"numeric\",\n  month: \"long\",\n  day: \"numeric\",\n};\n\nexport const TaskListTableDefault: React.FC<{\n  rowHeight: number;\n  rowWidth: string;\n  fontFamily: string;\n  fontSize: string;\n  locale: string;\n  tasks: Task[];\n  selectedTaskId: string;\n  setSelectedTask: (taskId: string) => void;\n  onExpanderClick: (task: Task) => void;\n}> = ({\n  rowHeight,\n  rowWidth,\n  tasks,\n  fontFamily,\n  fontSize,\n  locale,\n  onExpanderClick,\n}) => {\n  const toLocaleDateString = useMemo(\n    () => toLocaleDateStringFactory(locale),\n    [locale]\n  );\n\n  return (\n    <div\n      className={styles.taskListWrapper}\n      style={{\n        fontFamily: fontFamily,\n        fontSize: fontSize,\n      }}\n    >\n      {tasks.map(t => {\n        let expanderSymbol = \"\";\n        if (t.hideChildren === false) {\n          expanderSymbol = \"▼\";\n        } else if (t.hideChildren === true) {\n          expanderSymbol = \"▶\";\n        }\n\n        return (\n          <div\n            className={styles.taskListTableRow}\n            style={{ height: rowHeight }}\n            key={`${t.id}row`}\n            onClick={() => {\n              const row = document.querySelector('.scroll') as HTMLElement;\n              if (row) {\n                const scrollTop = row.scrollTop;\n                const scrollLeft = row.scrollLeft || 0;\n                \n                // Guardar posición y datos adicionales en localStorage\n                localStorage.setItem(\"ganttScrollTop\", String(scrollTop));\n                localStorage.setItem(\"ganttScrollLeft\", String(scrollLeft));\n                localStorage.setItem(\"ganttSelectedTaskId\", t.id); // Corregido: t.id en lugar de task.id\n                localStorage.setItem(\"ganttScrollTimestamp\", String(Date.now()));\n                \n                // Si quieres mostrar los valores para debug (puedes quitar esto después)\n                alert(`Posición guardada - Top: ${scrollTop}px, Left: ${scrollLeft}px, Tarea: ${t.id}`);\n              }\n            }}\n          >\n            <div\n              className={styles.taskListCell}\n              style={{\n                minWidth: rowWidth,\n                maxWidth: rowWidth,\n              }}\n              title={t.name}\n            >\n              <div className={styles.taskListNameWrapper}>\n                <div\n                  className={\n                    expanderSymbol\n                      ? styles.taskListExpander\n                      : styles.taskListEmptyExpander\n                  }\n                  onClick={() => onExpanderClick(t)}\n                >\n                  {expanderSymbol}\n                </div>\n                <div>{t.name}</div>\n              </div>\n            </div>\n            <div\n              className={styles.taskListCell}\n              style={{\n                minWidth: rowWidth,\n                maxWidth: rowWidth,\n              }}\n            >\n              &nbsp;{toLocaleDateString(t.start, dateTimeOptions)}\n            </div>\n            <div\n              className={styles.taskListCell}\n              style={{\n                minWidth: rowWidth,\n                maxWidth: rowWidth,\n              }}\n            >\n              &nbsp;{toLocaleDateString(t.end, dateTimeOptions)}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { Task } from \"../../types/public-types\";\nimport { BarTask } from \"../../types/bar-task\";\nimport styles from \"./tooltip.module.css\";\n\nexport type TooltipProps = {\n  task: BarTask;\n  arrowIndent: number;\n  rtl: boolean;\n  svgContainerHeight: number;\n  svgContainerWidth: number;\n  svgWidth: number;\n  headerHeight: number;\n  taskListWidth: number;\n  scrollX: number;\n  scrollY: number;\n  rowHeight: number;\n  fontSize: string;\n  fontFamily: string;\n  TooltipContent: React.FC<{\n    task: Task;\n    fontSize: string;\n    fontFamily: string;\n  }>;\n};\nexport const Tooltip: React.FC<TooltipProps> = ({\n  task,\n  rowHeight,\n  rtl,\n  svgContainerHeight,\n  svgContainerWidth,\n  scrollX,\n  scrollY,\n  arrowIndent,\n  fontSize,\n  fontFamily,\n  headerHeight,\n  taskListWidth,\n  TooltipContent,\n}) => {\n  const tooltipRef = useRef<HTMLDivElement | null>(null);\n  const [relatedY, setRelatedY] = useState(0);\n  const [relatedX, setRelatedX] = useState(0);\n  useEffect(() => {\n    if (tooltipRef.current) {\n      const tooltipHeight = tooltipRef.current.offsetHeight * 1.1;\n      const tooltipWidth = tooltipRef.current.offsetWidth * 1.1;\n\n      let newRelatedY = task.index * rowHeight - scrollY + headerHeight;\n      let newRelatedX: number;\n      if (rtl) {\n        newRelatedX = task.x1 - arrowIndent * 1.5 - tooltipWidth - scrollX;\n        if (newRelatedX < 0) {\n          newRelatedX = task.x2 + arrowIndent * 1.5 - scrollX;\n        }\n        const tooltipLeftmostPoint = tooltipWidth + newRelatedX;\n        if (tooltipLeftmostPoint > svgContainerWidth) {\n          newRelatedX = svgContainerWidth - tooltipWidth;\n          newRelatedY += rowHeight;\n        }\n      } else {\n        newRelatedX = task.x2 + arrowIndent * 1.5 + taskListWidth - scrollX;\n        const tooltipLeftmostPoint = tooltipWidth + newRelatedX;\n        const fullChartWidth = taskListWidth + svgContainerWidth;\n        if (tooltipLeftmostPoint > fullChartWidth) {\n          newRelatedX =\n            task.x1 +\n            taskListWidth -\n            arrowIndent * 1.5 -\n            scrollX -\n            tooltipWidth;\n        }\n        if (newRelatedX < taskListWidth) {\n          newRelatedX = svgContainerWidth + taskListWidth - tooltipWidth;\n          newRelatedY += rowHeight;\n        }\n      }\n\n      const tooltipLowerPoint = tooltipHeight + newRelatedY - scrollY;\n      if (tooltipLowerPoint > svgContainerHeight - scrollY) {\n        newRelatedY = svgContainerHeight - tooltipHeight;\n      }\n      setRelatedY(newRelatedY);\n      setRelatedX(newRelatedX);\n    }\n  }, [\n    tooltipRef,\n    task,\n    arrowIndent,\n    scrollX,\n    scrollY,\n    headerHeight,\n    taskListWidth,\n    rowHeight,\n    svgContainerHeight,\n    svgContainerWidth,\n    rtl,\n  ]);\n\n  return (\n    <div\n      ref={tooltipRef}\n      className={\n        relatedX\n          ? styles.tooltipDetailsContainer\n          : styles.tooltipDetailsContainerHidden\n      }\n      style={{ left: relatedX, top: relatedY }}\n    >\n      <TooltipContent task={task} fontSize={fontSize} fontFamily={fontFamily} />\n    </div>\n  );\n};\n\nexport const StandardTooltipContent: React.FC<{\n  task: Task;\n  fontSize: string;\n  fontFamily: string;\n}> = ({ task, fontSize, fontFamily }) => {\n  const style = {\n    fontSize,\n    fontFamily,\n  };\n  return (\n    <div className={styles.tooltipDefaultContainer} style={style}>\n      <b style={{ fontSize: fontSize + 6 }}>{`${\n        task.name\n      }: ${task.start.getDate()}-${\n        task.start.getMonth() + 1\n      }-${task.start.getFullYear()} - ${task.end.getDate()}-${\n        task.end.getMonth() + 1\n      }-${task.end.getFullYear()}`}</b>\n      {task.end.getTime() - task.start.getTime() !== 0 && (\n        <p className={styles.tooltipDefaultContainerParagraph}>{`Duration: ${~~(\n          (task.end.getTime() - task.start.getTime()) /\n          (1000 * 60 * 60 * 24)\n        )} day(s)`}</p>\n      )}\n\n      <p className={styles.tooltipDefaultContainerParagraph}>\n        {!!task.progress && `Progress: ${task.progress} %`}\n      </p>\n    </div>\n  );\n};\n","import React, { SyntheticEvent, useRef, useEffect } from \"react\";\nimport styles from \"./vertical-scroll.module.css\";\n\nexport const VerticalScroll: React.FC<{\n  scroll: number;\n  ganttHeight: number;\n  ganttFullHeight: number;\n  headerHeight: number;\n  rtl: boolean;\n  onScroll: (event: SyntheticEvent<HTMLDivElement>) => void;\n}> = ({\n  scroll,\n  ganttHeight,\n  ganttFullHeight,\n  headerHeight,\n  rtl,\n  onScroll,\n}) => {\n  const scrollRef = useRef<HTMLDivElement>(null);\n\n  // Restaurar scroll guardado al montar\n  // Restaurar scroll guardado al montar o cuando cambie ganttFullHeight\nuseEffect(() => {\n  const saved = localStorage.getItem(\"ganttScrollTop\");\n  const savedTimestamp = localStorage.getItem(\"ganttScrollTimestamp\");\n  const currentTime = Date.now();\n  \n  // Solo restaurar si el scroll se guardó hace menos de 30 segundos\n  if (scrollRef.current && saved && savedTimestamp) {\n    const timestamp = parseInt(savedTimestamp);\n    if (currentTime - timestamp < 30000) { // 30 segundos\n      scrollRef.current.scrollTop = parseInt(saved);\n      console.log(`Posición restaurada: ${saved}px`);\n    }\n  }\n}, [ganttFullHeight]); // Añadir ganttFullHeight como dependencia\n\n\n  // Aplicar scroll si cambia prop `scroll`\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTop = scroll;\n    }\n  }, [scroll]);\n\n  // Guardar scroll al hacer scroll manual\n  const handleScroll = (e: SyntheticEvent<HTMLDivElement>) => {\n    const el = e.currentTarget;\n    localStorage.setItem(\"ganttScrollTop\", String(el.scrollTop));\n    onScroll(e); // mantener comportamiento existente\n  };\n\n  return (\n    <div\n      style={{\n        height: ganttHeight,\n        marginTop: headerHeight,\n        marginLeft: rtl ? \"\" : \"-1rem\",\n      }}\n      className={styles.scroll}\n      onScroll={handleScroll}\n      ref={scrollRef}\n    >\n      <div style={{ height: ganttFullHeight, width: 1 }} />\n    </div>\n  );\n};\n","import React, { useEffect, useRef } from \"react\";\nimport { BarTask } from \"../../types/bar-task\";\nimport { Task } from \"../../types/public-types\";\n\nexport type TaskListProps = {\n  headerHeight: number;\n  rowWidth: string;\n  fontFamily: string;\n  fontSize: string;\n  rowHeight: number;\n  ganttHeight: number;\n  scrollY: number;\n  locale: string;\n  tasks: Task[];\n  taskListRef: React.RefObject<HTMLDivElement>;\n  horizontalContainerClass?: string;\n  selectedTask: BarTask | undefined;\n  setSelectedTask: (task: string) => void;\n  onExpanderClick: (task: Task) => void;\n  TaskListHeader: React.FC<{\n    headerHeight: number;\n    rowWidth: string;\n    fontFamily: string;\n    fontSize: string;\n  }>;\n  TaskListTable: React.FC<{\n    rowHeight: number;\n    rowWidth: string;\n    fontFamily: string;\n    fontSize: string;\n    locale: string;\n    tasks: Task[];\n    selectedTaskId: string;\n    setSelectedTask: (taskId: string) => void;\n    onExpanderClick: (task: Task) => void;\n  }>;\n};\n\nexport const TaskList: React.FC<TaskListProps> = ({\n  headerHeight,\n  fontFamily,\n  fontSize,\n  rowWidth,\n  rowHeight,\n  scrollY,\n  tasks,\n  selectedTask,\n  setSelectedTask,\n  onExpanderClick,\n  locale,\n  ganttHeight,\n  taskListRef,\n  horizontalContainerClass,\n  TaskListHeader,\n  TaskListTable,\n}) => {\n  const horizontalContainerRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (horizontalContainerRef.current) {\n      horizontalContainerRef.current.scrollTop = scrollY;\n    }\n  }, [scrollY]);\n\n  const headerProps = {\n    headerHeight,\n    fontFamily,\n    fontSize,\n    rowWidth,\n  };\n  const selectedTaskId = selectedTask ? selectedTask.id : \"\";\n  const tableProps = {\n    rowHeight,\n    rowWidth,\n    fontFamily,\n    fontSize,\n    tasks,\n    locale,\n    selectedTaskId: selectedTaskId,\n    setSelectedTask,\n    onExpanderClick,\n  };\n\n  return (\n    <div ref={taskListRef}>\n      <TaskListHeader {...headerProps} />\n      <div\n        ref={horizontalContainerRef}\n        className={horizontalContainerClass}\n        style={ganttHeight ? { height: ganttHeight } : {}}\n      >\n        <TaskListTable {...tableProps} />\n      </div>\n    </div>\n  );\n};\n","import React, { ReactChild } from \"react\";\nimport { Task } from \"../../types/public-types\";\nimport { addToDate } from \"../../helpers/date-helper\";\nimport styles from \"./grid.module.css\";\n\nexport type GridBodyProps = {\n  tasks: Task[];\n  dates: Date[];\n  svgWidth: number;\n  rowHeight: number;\n  columnWidth: number;\n  todayColor: string;\n  todayLineColor: string; // Nueva propiedad para el color de la línea\n  rtl: boolean;\n};\nexport const GridBody: React.FC<GridBodyProps> = ({\n  tasks,\n  dates,\n  rowHeight,\n  svgWidth,\n  columnWidth,\n  todayColor,\n  todayLineColor,\n  rtl,\n}) => {\n  let y = 0;\n  const gridRows: ReactChild[] = [];\n  const rowLines: ReactChild[] = [\n    <line\n      key=\"RowLineFirst\"\n      x=\"0\"\n      y1={0}\n      x2={svgWidth}\n      y2={0}\n      className={styles.gridRowLine}\n    />,\n  ];\n  for (const task of tasks) {\n    gridRows.push(\n      <rect\n        key={\"Row\" + task.id}\n        x=\"0\"\n        y={y}\n        width={svgWidth}\n        height={rowHeight}\n        className={styles.gridRow}\n      />\n    );\n    rowLines.push(\n      <line\n        key={\"RowLine\" + task.id}\n        x=\"0\"\n        y1={y + rowHeight}\n        x2={svgWidth}\n        y2={y + rowHeight}\n        className={styles.gridRowLine}\n      />\n    );\n    y += rowHeight;\n  }\n\n  const now = new Date();\n  let tickX = 0;\n  const ticks: ReactChild[] = [];\n  let today: ReactChild = <g />;\n  let todayLineX = 0;\n  for (let i = 0; i < dates.length; i++) {\n    const date = dates[i];\n    ticks.push(\n      <line\n        key={date.getTime()}\n        x1={tickX}\n        y1={0}\n        x2={tickX}\n        y2={y}\n        className={styles.gridTick}\n      />\n    );\n    if (\n      (i + 1 !== dates.length &&\n        date.getTime() < now.getTime() &&\n        dates[i + 1].getTime() >= now.getTime()) ||\n      // if current date is last\n      (i !== 0 &&\n        i + 1 === dates.length &&\n        date.getTime() < now.getTime() &&\n        addToDate(\n          date,\n          date.getTime() - dates[i - 1].getTime(),\n          \"millisecond\"\n        ).getTime() >= now.getTime())\n    ) {\n      todayLineX = tickX + (now.getTime() - date.getTime()) / (dates[i + 1].getTime() - date.getTime()) * columnWidth;\n      today = (\n        <g>\n          <rect\n            x={tickX}\n            y={0}\n            width={columnWidth}\n            height={y}\n            fill={todayColor}\n          />\n          <line\n            x1={todayLineX}\n            y1={0}\n            x2={todayLineX}\n            y2={y}\n            stroke={todayLineColor}\n            strokeWidth={2}\n          />\n        </g>\n      );\n    }\n    // rtl for today\n    if (\n      rtl &&\n      i + 1 !== dates.length &&\n      date.getTime() >= now.getTime() &&\n      dates[i + 1].getTime() < now.getTime()\n    ) {\n      todayLineX = tickX + columnWidth - (date.getTime() - now.getTime()) / (date.getTime() - dates[i + 1].getTime()) * columnWidth;\n    today = (\n      <g>\n        <rect\n          x={tickX + columnWidth}\n          y={0}\n          width={columnWidth}\n          height={y}\n          fill={todayColor}\n        />\n        <line\n          x1={todayLineX}\n          y1={0}\n          x2={todayLineX}\n          y2={y}\n          stroke={todayLineColor}\n          strokeWidth={2}\n        />\n      </g>\n      );\n    }\n    tickX += columnWidth;\n  }\n  return (\n    <g className=\"gridBody\">\n      <g className=\"rows\">{gridRows}</g>\n      <g className=\"rowLines\">{rowLines}</g>\n      <g className=\"ticks\">{ticks}</g>\n      <g className=\"today\">{today}</g>\n    </g>\n  );\n};\n","import React from \"react\";\nimport { GridBody, GridBodyProps } from \"./grid-body\";\n\nexport type GridProps = GridBodyProps;\nexport const Grid: React.FC<GridProps> = props => {\n  return (\n    <g className=\"grid\">\n      <GridBody {...props} />\n    </g>\n  );\n};\n","import React from \"react\";\nimport styles from \"./calendar.module.css\";\n\ntype TopPartOfCalendarProps = {\n  value: string;\n  x1Line: number;\n  y1Line: number;\n  y2Line: number;\n  xText: number;\n  yText: number;\n};\n\nexport const TopPartOfCalendar: React.FC<TopPartOfCalendarProps> = ({\n  value,\n  x1Line,\n  y1Line,\n  y2Line,\n  xText,\n  yText,\n}) => {\n  return (\n    <g className=\"calendarTop\">\n      <line\n        x1={x1Line}\n        y1={y1Line}\n        x2={x1Line}\n        y2={y2Line}\n        className={styles.calendarTopTick}\n        key={value + \"line\"}\n      />\n      <text\n        key={value + \"text\"}\n        y={yText}\n        x={xText}\n        className={styles.calendarTopText}\n      >\n        {value}\n      </text>\n    </g>\n  );\n};\n","import React, { ReactChild } from \"react\";\nimport { ViewMode } from \"../../types/public-types\";\nimport { TopPartOfCalendar } from \"./top-part-of-calendar\";\nimport {\n  getCachedDateTimeFormat,\n  getDaysInMonth,\n  getLocalDayOfWeek,\n  getLocaleMonth,\n  getWeekNumberISO8601,\n} from \"../../helpers/date-helper\";\nimport { DateSetup } from \"../../types/date-setup\";\nimport styles from \"./calendar.module.css\";\n\nexport type CalendarProps = {\n  dateSetup: DateSetup;\n  locale: string;\n  weekPrefix: string;\n  viewMode: ViewMode;\n  rtl: boolean;\n  headerHeight: number;\n  columnWidth: number;\n  fontFamily: string;\n  fontSize: string;\n};\n\nexport const Calendar: React.FC<CalendarProps> = ({\n  dateSetup,\n  locale,\n  viewMode,\n  rtl,\n  headerHeight,\n  columnWidth,\n  fontFamily,\n  fontSize,\n  weekPrefix,\n}) => {\n  const getCalendarValuesForYear = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    for (let i = 0; i < dateSetup.dates.length; i++) {\n      const date = dateSetup.dates[i];\n      const bottomValue = date.getFullYear();\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * i + columnWidth * 0.5}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (\n        i === 0 ||\n        date.getFullYear() !== dateSetup.dates[i - 1].getFullYear()\n      ) {\n        const topValue = date.getFullYear().toString();\n        let xText: number;\n        if (rtl) {\n          xText = (6 + i + date.getFullYear() + 1) * columnWidth;\n        } else {\n          xText = (6 + i - date.getFullYear()) * columnWidth;\n        }\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue}\n            value={topValue}\n            x1Line={columnWidth * i}\n            y1Line={0}\n            y2Line={headerHeight}\n            xText={xText}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForQuarterYear = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    for (let i = 0; i < dateSetup.dates.length; i++) {\n      const date = dateSetup.dates[i];\n      // const bottomValue = getLocaleMonth(date, locale);\n      const quarter = \"Q\" + Math.floor((date.getMonth() + 3) / 3);\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * i + columnWidth * 0.5}\n          className={styles.calendarBottomText}\n        >\n          {quarter}\n        </text>\n      );\n      if (\n        i === 0 ||\n        date.getFullYear() !== dateSetup.dates[i - 1].getFullYear()\n      ) {\n        const topValue = date.getFullYear().toString();\n        let xText: number;\n        if (rtl) {\n          xText = (6 + i + date.getMonth() + 1) * columnWidth;\n        } else {\n          xText = (6 + i - date.getMonth()) * columnWidth;\n        }\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue}\n            value={topValue}\n            x1Line={columnWidth * i}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={Math.abs(xText)}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForMonth = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    for (let i = 0; i < dateSetup.dates.length; i++) {\n      const date = dateSetup.dates[i];\n      const bottomValue = getLocaleMonth(date, locale);\n      bottomValues.push(\n        <text\n          key={bottomValue + date.getFullYear()}\n          y={headerHeight * 0.8}\n          x={columnWidth * i + columnWidth * 0.5}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (\n        i === 0 ||\n        date.getFullYear() !== dateSetup.dates[i - 1].getFullYear()\n      ) {\n        const topValue = date.getFullYear().toString();\n        let xText: number;\n        if (rtl) {\n          xText = (6 + i + date.getMonth() + 1) * columnWidth;\n        } else {\n          xText = (6 + i - date.getMonth()) * columnWidth;\n        }\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue}\n            value={topValue}\n            x1Line={columnWidth * i}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={xText}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForWeek = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    let weeksCount: number = 1;\n    const topDefaultHeight = headerHeight * 0.5;\n    const dates = dateSetup.dates;\n    for (let i = dates.length - 1; i >= 0; i--) {\n      const date = dates[i];\n      let topValue = \"\";\n      if (i === 0 || date.getMonth() !== dates[i - 1].getMonth()) {\n        // top\n        topValue = `${getLocaleMonth(date, locale)}, ${date.getFullYear()}`;\n      }\n      // bottom\n      const bottomValue = `${weekPrefix}${getWeekNumberISO8601(date)}`;\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * (i + +rtl)}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n\n      if (topValue) {\n        // if last day is new month\n        if (i !== dates.length - 1) {\n          topValues.push(\n            <TopPartOfCalendar\n              key={topValue}\n              value={topValue}\n              x1Line={columnWidth * i + weeksCount * columnWidth}\n              y1Line={0}\n              y2Line={topDefaultHeight}\n              xText={columnWidth * i + columnWidth * weeksCount * 0.5}\n              yText={topDefaultHeight * 0.9}\n            />\n          );\n        }\n        weeksCount = 0;\n      }\n      weeksCount++;\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForDay = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    const dates = dateSetup.dates;\n    for (let i = 0; i < dates.length; i++) {\n      const date = dates[i];\n      const bottomValue = ` ${getLocalDayOfWeek(date, locale, \"narrow\")}${date\n        .getDate()\n        .toString()}`;\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * i + columnWidth * 0.5}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (\n        i + 1 !== dates.length &&\n        date.getMonth() !== dates[i + 1].getMonth()\n      ) {\n        const topValue = getLocaleMonth(date, locale);\n\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue + date.getFullYear()}\n            value={topValue}\n            x1Line={columnWidth * (i + 1)}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={\n              columnWidth * (i + 1) -\n              getDaysInMonth(date.getMonth(), date.getFullYear()) *\n                columnWidth *\n                0.5\n            }\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForPartOfDay = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const ticks = viewMode === ViewMode.HalfDay ? 2 : 4;\n    const topDefaultHeight = headerHeight * 0.5;\n    const dates = dateSetup.dates;\n    for (let i = 0; i < dates.length; i++) {\n      const date = dates[i];\n      const bottomValue = getCachedDateTimeFormat(locale, {\n        hour: \"numeric\",\n      }).format(date);\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * (i + +rtl)}\n          className={styles.calendarBottomText}\n          fontFamily={fontFamily}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (i === 0 || date.getDate() !== dates[i - 1].getDate()) {\n        const topValue = `${getLocalDayOfWeek(\n          date,\n          locale,\n          \"short\"\n        )}, ${date.getDate()} ${getLocaleMonth(date, locale)}`;\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue + date.getFullYear()}\n            value={topValue}\n            x1Line={columnWidth * i + ticks * columnWidth}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={columnWidth * i + ticks * columnWidth * 0.5}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForHour = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    const dates = dateSetup.dates;\n    for (let i = 0; i < dates.length; i++) {\n      const date = dates[i];\n      const bottomValue = getCachedDateTimeFormat(locale, {\n        hour: \"numeric\",\n      }).format(date);\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * (i + +rtl)}\n          className={styles.calendarBottomText}\n          fontFamily={fontFamily}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (i !== 0 && date.getDate() !== dates[i - 1].getDate()) {\n        const displayDate = dates[i - 1];\n        const topValue = `${getLocalDayOfWeek(\n          displayDate,\n          locale,\n          \"long\"\n        )}, ${displayDate.getDate()} ${getLocaleMonth(displayDate, locale)}`;\n        const topPosition = (date.getHours() - 24) / 2;\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue + displayDate.getFullYear()}\n            value={topValue}\n            x1Line={columnWidth * i}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={columnWidth * (i + topPosition)}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n\n    return [topValues, bottomValues];\n  };\n\n  let topValues: ReactChild[] = [];\n  let bottomValues: ReactChild[] = [];\n  switch (dateSetup.viewMode) {\n    case ViewMode.Year:\n      [topValues, bottomValues] = getCalendarValuesForYear();\n      break;\n    case ViewMode.QuarterYear:\n      [topValues, bottomValues] = getCalendarValuesForQuarterYear();\n      break;\n    case ViewMode.Month:\n      [topValues, bottomValues] = getCalendarValuesForMonth();\n      break;\n    case ViewMode.Week:\n      [topValues, bottomValues] = getCalendarValuesForWeek();\n      break;\n    case ViewMode.Day:\n      [topValues, bottomValues] = getCalendarValuesForDay();\n      break;\n    case ViewMode.QuarterDay:\n    case ViewMode.HalfDay:\n      [topValues, bottomValues] = getCalendarValuesForPartOfDay();\n      break;\n    case ViewMode.Hour:\n      [topValues, bottomValues] = getCalendarValuesForHour();\n  }\n  return (\n    <g className=\"calendar\" fontSize={fontSize} fontFamily={fontFamily}>\n      <rect\n        x={0}\n        y={0}\n        width={columnWidth * dateSetup.dates.length}\n        height={headerHeight}\n        className={styles.calendarHeader}\n      />\n      {bottomValues} {topValues}\n    </g>\n  );\n};\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import React from \"react\";\nimport { BarTask } from \"../../types/bar-task\";\n\ntype ArrowProps = {\n  taskFrom: BarTask;\n  taskTo: BarTask;\n  rowHeight: number;\n  taskHeight: number;\n  arrowIndent: number;\n  rtl: boolean;\n};\nexport const Arrow: React.FC<ArrowProps> = ({\n  taskFrom,\n  taskTo,\n  rowHeight,\n  taskHeight,\n  arrowIndent,\n  rtl,\n}) => {\n  let path: string;\n  let trianglePoints: string;\n  if (rtl) {\n    [path, trianglePoints] = drownPathAndTriangleRTL(\n      taskFrom,\n      taskTo,\n      rowHeight,\n      taskHeight,\n      arrowIndent\n    );\n  } else {\n    [path, trianglePoints] = drownPathAndTriangle(\n      taskFrom,\n      taskTo,\n      rowHeight,\n      taskHeight,\n      arrowIndent\n    );\n  }\n\n  return (\n    <g className=\"arrow\">\n      <path strokeWidth=\"1.5\" d={path} fill=\"none\" />\n      <polygon points={trianglePoints} />\n    </g>\n  );\n};\n\nconst drownPathAndTriangle = (\n  taskFrom: BarTask,\n  taskTo: BarTask,\n  rowHeight: number,\n  taskHeight: number,\n  arrowIndent: number\n) => {\n  const indexCompare = taskFrom.index > taskTo.index ? -1 : 1;\n  const taskToEndPosition = taskTo.y + taskHeight / 2;\n  const taskFromEndPosition = taskFrom.x2 + arrowIndent * 2;\n  const taskFromHorizontalOffsetValue =\n    taskFromEndPosition < taskTo.x1 ? \"\" : `H ${taskTo.x1 - arrowIndent}`;\n  const taskToHorizontalOffsetValue =\n    taskFromEndPosition > taskTo.x1\n      ? arrowIndent\n      : taskTo.x1 - taskFrom.x2 - arrowIndent;\n\n  const path = `M ${taskFrom.x2} ${taskFrom.y + taskHeight / 2} \n  h ${arrowIndent} \n  v ${(indexCompare * rowHeight) / 2} \n  ${taskFromHorizontalOffsetValue}\n  V ${taskToEndPosition} \n  h ${taskToHorizontalOffsetValue}`;\n\n  const trianglePoints = `${taskTo.x1},${taskToEndPosition} \n  ${taskTo.x1 - 5},${taskToEndPosition - 5} \n  ${taskTo.x1 - 5},${taskToEndPosition + 5}`;\n  return [path, trianglePoints];\n};\n\nconst drownPathAndTriangleRTL = (\n  taskFrom: BarTask,\n  taskTo: BarTask,\n  rowHeight: number,\n  taskHeight: number,\n  arrowIndent: number\n) => {\n  const indexCompare = taskFrom.index > taskTo.index ? -1 : 1;\n  const taskToEndPosition = taskTo.y + taskHeight / 2;\n  const taskFromEndPosition = taskFrom.x1 - arrowIndent * 2;\n  const taskFromHorizontalOffsetValue =\n    taskFromEndPosition > taskTo.x2 ? \"\" : `H ${taskTo.x2 + arrowIndent}`;\n  const taskToHorizontalOffsetValue =\n    taskFromEndPosition < taskTo.x2\n      ? -arrowIndent\n      : taskTo.x2 - taskFrom.x1 + arrowIndent;\n\n  const path = `M ${taskFrom.x1} ${taskFrom.y + taskHeight / 2} \n  h ${-arrowIndent} \n  v ${(indexCompare * rowHeight) / 2} \n  ${taskFromHorizontalOffsetValue}\n  V ${taskToEndPosition} \n  h ${taskToHorizontalOffsetValue}`;\n\n  const trianglePoints = `${taskTo.x2},${taskToEndPosition} \n  ${taskTo.x2 + 5},${taskToEndPosition + 5} \n  ${taskTo.x2 + 5},${taskToEndPosition - 5}`;\n  return [path, trianglePoints];\n};\n","import { Task } from \"../types/public-types\";\nimport { BarTask, TaskTypeInternal } from \"../types/bar-task\";\nimport { BarMoveAction } from \"../types/gantt-task-actions\";\n\nexport const convertToBarTasks = (\n  tasks: Task[],\n  dates: Date[],\n  columnWidth: number,\n  rowHeight: number,\n  taskHeight: number,\n  barCornerRadius: number,\n  handleWidth: number,\n  rtl: boolean,\n  barProgressColor: string,\n  barProgressSelectedColor: string,\n  barBackgroundColor: string,\n  barBackgroundSelectedColor: string,\n  projectProgressColor: string,\n  projectProgressSelectedColor: string,\n  projectBackgroundColor: string,\n  projectBackgroundSelectedColor: string,\n  milestoneBackgroundColor: string,\n  milestoneBackgroundSelectedColor: string\n) => {\n  let barTasks = tasks.map((t, i) => {\n    return convertToBarTask(\n      t,\n      i,\n      dates,\n      columnWidth,\n      rowHeight,\n      taskHeight,\n      barCornerRadius,\n      handleWidth,\n      rtl,\n      barProgressColor,\n      barProgressSelectedColor,\n      barBackgroundColor,\n      barBackgroundSelectedColor,\n      projectProgressColor,\n      projectProgressSelectedColor,\n      projectBackgroundColor,\n      projectBackgroundSelectedColor,\n      milestoneBackgroundColor,\n      milestoneBackgroundSelectedColor\n    );\n  });\n\n  // set dependencies\n  barTasks = barTasks.map(task => {\n    const dependencies = task.dependencies || [];\n    for (let j = 0; j < dependencies.length; j++) {\n      const dependence = barTasks.findIndex(\n        value => value.id === dependencies[j]\n      );\n      if (dependence !== -1) barTasks[dependence].barChildren.push(task);\n    }\n    return task;\n  });\n\n  return barTasks;\n};\n\nconst convertToBarTask = (\n  task: Task,\n  index: number,\n  dates: Date[],\n  columnWidth: number,\n  rowHeight: number,\n  taskHeight: number,\n  barCornerRadius: number,\n  handleWidth: number,\n  rtl: boolean,\n  barProgressColor: string,\n  barProgressSelectedColor: string,\n  barBackgroundColor: string,\n  barBackgroundSelectedColor: string,\n  projectProgressColor: string,\n  projectProgressSelectedColor: string,\n  projectBackgroundColor: string,\n  projectBackgroundSelectedColor: string,\n  milestoneBackgroundColor: string,\n  milestoneBackgroundSelectedColor: string\n): BarTask => {\n  let barTask: BarTask;\n  switch (task.type) {\n    case \"milestone\":\n      barTask = convertToMilestone(\n        task,\n        index,\n        dates,\n        columnWidth,\n        rowHeight,\n        taskHeight,\n        barCornerRadius,\n        handleWidth,\n        milestoneBackgroundColor,\n        milestoneBackgroundSelectedColor\n      );\n      break;\n    case \"project\":\n      barTask = convertToBar(\n        task,\n        index,\n        dates,\n        columnWidth,\n        rowHeight,\n        taskHeight,\n        barCornerRadius,\n        handleWidth,\n        rtl,\n        projectProgressColor,\n        projectProgressSelectedColor,\n        projectBackgroundColor,\n        projectBackgroundSelectedColor\n      );\n      break;\n    default:\n      barTask = convertToBar(\n        task,\n        index,\n        dates,\n        columnWidth,\n        rowHeight,\n        taskHeight,\n        barCornerRadius,\n        handleWidth,\n        rtl,\n        barProgressColor,\n        barProgressSelectedColor,\n        barBackgroundColor,\n        barBackgroundSelectedColor\n      );\n      break;\n  }\n  return barTask;\n};\n\nconst convertToBar = (\n  task: Task,\n  index: number,\n  dates: Date[],\n  columnWidth: number,\n  rowHeight: number,\n  taskHeight: number,\n  barCornerRadius: number,\n  handleWidth: number,\n  rtl: boolean,\n  barProgressColor: string,\n  barProgressSelectedColor: string,\n  barBackgroundColor: string,\n  barBackgroundSelectedColor: string\n): BarTask => {\n  let x1: number;\n  let x2: number;\n  if (rtl) {\n    x2 = taskXCoordinateRTL(task.start, dates, columnWidth);\n    x1 = taskXCoordinateRTL(task.end, dates, columnWidth);\n  } else {\n    x1 = taskXCoordinate(task.start, dates, columnWidth);\n    x2 = taskXCoordinate(task.end, dates, columnWidth);\n  }\n  let typeInternal: TaskTypeInternal = task.type;\n  if (typeInternal === \"task\" && x2 - x1 < handleWidth * 2) {\n    typeInternal = \"smalltask\";\n    x2 = x1 + handleWidth * 2;\n  }\n\n  const [progressWidth, progressX] = progressWithByParams(\n    x1,\n    x2,\n    task.progress,\n    rtl\n  );\n  const y = taskYCoordinate(index, rowHeight, taskHeight);\n  const hideChildren = task.type === \"project\" ? task.hideChildren : undefined;\n\n  const styles = {\n    backgroundColor: barBackgroundColor,\n    backgroundSelectedColor: barBackgroundSelectedColor,\n    progressColor: barProgressColor,\n    progressSelectedColor: barProgressSelectedColor,\n    ...task.styles,\n  };\n  return {\n    ...task,\n    typeInternal,\n    x1,\n    x2,\n    y,\n    index,\n    progressX,\n    progressWidth,\n    barCornerRadius,\n    handleWidth,\n    hideChildren,\n    height: taskHeight,\n    barChildren: [],\n    styles,\n  };\n};\n\nconst convertToMilestone = (\n  task: Task,\n  index: number,\n  dates: Date[],\n  columnWidth: number,\n  rowHeight: number,\n  taskHeight: number,\n  barCornerRadius: number,\n  handleWidth: number,\n  milestoneBackgroundColor: string,\n  milestoneBackgroundSelectedColor: string\n): BarTask => {\n  const x = taskXCoordinate(task.start, dates, columnWidth);\n  const y = taskYCoordinate(index, rowHeight, taskHeight);\n\n  const x1 = x - taskHeight * 0.5;\n  const x2 = x + taskHeight * 0.5;\n\n  const rotatedHeight = taskHeight / 1.414;\n  const styles = {\n    backgroundColor: milestoneBackgroundColor,\n    backgroundSelectedColor: milestoneBackgroundSelectedColor,\n    progressColor: \"\",\n    progressSelectedColor: \"\",\n    ...task.styles,\n  };\n  return {\n    ...task,\n    end: task.start,\n    x1,\n    x2,\n    y,\n    index,\n    progressX: 0,\n    progressWidth: 0,\n    barCornerRadius,\n    handleWidth,\n    typeInternal: task.type,\n    progress: 0,\n    height: rotatedHeight,\n    hideChildren: undefined,\n    barChildren: [],\n    styles,\n  };\n};\n\nconst taskXCoordinate = (xDate: Date, dates: Date[], columnWidth: number) => {\n  const index = dates.findIndex(d => d.getTime() >= xDate.getTime()) - 1;\n\n  const remainderMillis = xDate.getTime() - dates[index].getTime();\n  const percentOfInterval =\n    remainderMillis / (dates[index + 1].getTime() - dates[index].getTime());\n  const x = index * columnWidth + percentOfInterval * columnWidth;\n  return x;\n};\nconst taskXCoordinateRTL = (\n  xDate: Date,\n  dates: Date[],\n  columnWidth: number\n) => {\n  let x = taskXCoordinate(xDate, dates, columnWidth);\n  x += columnWidth;\n  return x;\n};\nconst taskYCoordinate = (\n  index: number,\n  rowHeight: number,\n  taskHeight: number\n) => {\n  const y = index * rowHeight + (rowHeight - taskHeight) / 2;\n  return y;\n};\n\nexport const progressWithByParams = (\n  taskX1: number,\n  taskX2: number,\n  progress: number,\n  rtl: boolean\n) => {\n  const progressWidth = (taskX2 - taskX1) * progress * 0.01;\n  let progressX: number;\n  if (rtl) {\n    progressX = taskX2 - progressWidth;\n  } else {\n    progressX = taskX1;\n  }\n  return [progressWidth, progressX];\n};\n\nexport const progressByProgressWidth = (\n  progressWidth: number,\n  barTask: BarTask\n) => {\n  const barWidth = barTask.x2 - barTask.x1;\n  const progressPercent = Math.round((progressWidth * 100) / barWidth);\n  if (progressPercent >= 100) return 100;\n  else if (progressPercent <= 0) return 0;\n  else return progressPercent;\n};\n\nconst progressByX = (x: number, task: BarTask) => {\n  if (x >= task.x2) return 100;\n  else if (x <= task.x1) return 0;\n  else {\n    const barWidth = task.x2 - task.x1;\n    const progressPercent = Math.round(((x - task.x1) * 100) / barWidth);\n    return progressPercent;\n  }\n};\nconst progressByXRTL = (x: number, task: BarTask) => {\n  if (x >= task.x2) return 0;\n  else if (x <= task.x1) return 100;\n  else {\n    const barWidth = task.x2 - task.x1;\n    const progressPercent = Math.round(((task.x2 - x) * 100) / barWidth);\n    return progressPercent;\n  }\n};\n\nexport const getProgressPoint = (\n  progressX: number,\n  taskY: number,\n  taskHeight: number\n) => {\n  const point = [\n    progressX - 5,\n    taskY + taskHeight,\n    progressX + 5,\n    taskY + taskHeight,\n    progressX,\n    taskY + taskHeight - 8.66,\n  ];\n  return point.join(\",\");\n};\n\nconst startByX = (x: number, xStep: number, task: BarTask) => {\n  if (x >= task.x2 - task.handleWidth * 2) {\n    x = task.x2 - task.handleWidth * 2;\n  }\n  const steps = Math.round((x - task.x1) / xStep);\n  const additionalXValue = steps * xStep;\n  const newX = task.x1 + additionalXValue;\n  return newX;\n};\n\nconst endByX = (x: number, xStep: number, task: BarTask) => {\n  if (x <= task.x1 + task.handleWidth * 2) {\n    x = task.x1 + task.handleWidth * 2;\n  }\n  const steps = Math.round((x - task.x2) / xStep);\n  const additionalXValue = steps * xStep;\n  const newX = task.x2 + additionalXValue;\n  return newX;\n};\n\nconst moveByX = (x: number, xStep: number, task: BarTask) => {\n  const steps = Math.round((x - task.x1) / xStep);\n  const additionalXValue = steps * xStep;\n  const newX1 = task.x1 + additionalXValue;\n  const newX2 = newX1 + task.x2 - task.x1;\n  return [newX1, newX2];\n};\n\nconst dateByX = (\n  x: number,\n  taskX: number,\n  taskDate: Date,\n  xStep: number,\n  timeStep: number\n) => {\n  let newDate = new Date(((x - taskX) / xStep) * timeStep + taskDate.getTime());\n  newDate = new Date(\n    newDate.getTime() +\n      (newDate.getTimezoneOffset() - taskDate.getTimezoneOffset()) * 60000\n  );\n  return newDate;\n};\n\n/**\n * Method handles event in real time(mousemove) and on finish(mouseup)\n */\nexport const handleTaskBySVGMouseEvent = (\n  svgX: number,\n  action: BarMoveAction,\n  selectedTask: BarTask,\n  xStep: number,\n  timeStep: number,\n  initEventX1Delta: number,\n  rtl: boolean\n): { isChanged: boolean; changedTask: BarTask } => {\n  let result: { isChanged: boolean; changedTask: BarTask };\n  switch (selectedTask.type) {\n    case \"milestone\":\n      result = handleTaskBySVGMouseEventForMilestone(\n        svgX,\n        action,\n        selectedTask,\n        xStep,\n        timeStep,\n        initEventX1Delta\n      );\n      break;\n    default:\n      result = handleTaskBySVGMouseEventForBar(\n        svgX,\n        action,\n        selectedTask,\n        xStep,\n        timeStep,\n        initEventX1Delta,\n        rtl\n      );\n      break;\n  }\n  return result;\n};\n\nconst handleTaskBySVGMouseEventForBar = (\n  svgX: number,\n  action: BarMoveAction,\n  selectedTask: BarTask,\n  xStep: number,\n  timeStep: number,\n  initEventX1Delta: number,\n  rtl: boolean\n): { isChanged: boolean; changedTask: BarTask } => {\n  const changedTask: BarTask = { ...selectedTask };\n  let isChanged = false;\n  switch (action) {\n    case \"progress\":\n      if (rtl) {\n        changedTask.progress = progressByXRTL(svgX, selectedTask);\n      } else {\n        changedTask.progress = progressByX(svgX, selectedTask);\n      }\n      isChanged = changedTask.progress !== selectedTask.progress;\n      if (isChanged) {\n        const [progressWidth, progressX] = progressWithByParams(\n          changedTask.x1,\n          changedTask.x2,\n          changedTask.progress,\n          rtl\n        );\n        changedTask.progressWidth = progressWidth;\n        changedTask.progressX = progressX;\n      }\n      break;\n    case \"start\": {\n      const newX1 = startByX(svgX, xStep, selectedTask);\n      changedTask.x1 = newX1;\n      isChanged = changedTask.x1 !== selectedTask.x1;\n      if (isChanged) {\n        if (rtl) {\n          changedTask.end = dateByX(\n            newX1,\n            selectedTask.x1,\n            selectedTask.end,\n            xStep,\n            timeStep\n          );\n        } else {\n          changedTask.start = dateByX(\n            newX1,\n            selectedTask.x1,\n            selectedTask.start,\n            xStep,\n            timeStep\n          );\n        }\n        const [progressWidth, progressX] = progressWithByParams(\n          changedTask.x1,\n          changedTask.x2,\n          changedTask.progress,\n          rtl\n        );\n        changedTask.progressWidth = progressWidth;\n        changedTask.progressX = progressX;\n      }\n      break;\n    }\n    case \"end\": {\n      const newX2 = endByX(svgX, xStep, selectedTask);\n      changedTask.x2 = newX2;\n      isChanged = changedTask.x2 !== selectedTask.x2;\n      if (isChanged) {\n        if (rtl) {\n          changedTask.start = dateByX(\n            newX2,\n            selectedTask.x2,\n            selectedTask.start,\n            xStep,\n            timeStep\n          );\n        } else {\n          changedTask.end = dateByX(\n            newX2,\n            selectedTask.x2,\n            selectedTask.end,\n            xStep,\n            timeStep\n          );\n        }\n        const [progressWidth, progressX] = progressWithByParams(\n          changedTask.x1,\n          changedTask.x2,\n          changedTask.progress,\n          rtl\n        );\n        changedTask.progressWidth = progressWidth;\n        changedTask.progressX = progressX;\n      }\n      break;\n    }\n    case \"move\": {\n      const [newMoveX1, newMoveX2] = moveByX(\n        svgX - initEventX1Delta,\n        xStep,\n        selectedTask\n      );\n      isChanged = newMoveX1 !== selectedTask.x1;\n      if (isChanged) {\n        changedTask.start = dateByX(\n          newMoveX1,\n          selectedTask.x1,\n          selectedTask.start,\n          xStep,\n          timeStep\n        );\n        changedTask.end = dateByX(\n          newMoveX2,\n          selectedTask.x2,\n          selectedTask.end,\n          xStep,\n          timeStep\n        );\n        changedTask.x1 = newMoveX1;\n        changedTask.x2 = newMoveX2;\n        const [progressWidth, progressX] = progressWithByParams(\n          changedTask.x1,\n          changedTask.x2,\n          changedTask.progress,\n          rtl\n        );\n        changedTask.progressWidth = progressWidth;\n        changedTask.progressX = progressX;\n      }\n      break;\n    }\n  }\n  return { isChanged, changedTask };\n};\n\nconst handleTaskBySVGMouseEventForMilestone = (\n  svgX: number,\n  action: BarMoveAction,\n  selectedTask: BarTask,\n  xStep: number,\n  timeStep: number,\n  initEventX1Delta: number\n): { isChanged: boolean; changedTask: BarTask } => {\n  const changedTask: BarTask = { ...selectedTask };\n  let isChanged = false;\n  switch (action) {\n    case \"move\": {\n      const [newMoveX1, newMoveX2] = moveByX(\n        svgX - initEventX1Delta,\n        xStep,\n        selectedTask\n      );\n      isChanged = newMoveX1 !== selectedTask.x1;\n      if (isChanged) {\n        changedTask.start = dateByX(\n          newMoveX1,\n          selectedTask.x1,\n          selectedTask.start,\n          xStep,\n          timeStep\n        );\n        changedTask.end = changedTask.start;\n        changedTask.x1 = newMoveX1;\n        changedTask.x2 = newMoveX2;\n      }\n      break;\n    }\n  }\n  return { isChanged, changedTask };\n};\n","import { BarTask } from \"../types/bar-task\";\nimport { Task } from \"../types/public-types\";\n\nexport function isKeyboardEvent(\n  event: React.MouseEvent | React.KeyboardEvent | React.FocusEvent\n): event is React.KeyboardEvent {\n  return (event as React.KeyboardEvent).key !== undefined;\n}\n\nexport function isMouseEvent(\n  event: React.MouseEvent | React.KeyboardEvent | React.FocusEvent\n): event is React.MouseEvent {\n  return (event as React.MouseEvent).clientX !== undefined;\n}\n\nexport function isBarTask(task: Task | BarTask): task is BarTask {\n  return (task as BarTask).x1 !== undefined;\n}\n\nexport function removeHiddenTasks(tasks: Task[]) {\n  const groupedTasks = tasks.filter(\n    t => t.hideChildren && t.type === \"project\"\n  );\n  if (groupedTasks.length > 0) {\n    for (let i = 0; groupedTasks.length > i; i++) {\n      const groupedTask = groupedTasks[i];\n      const children = getChildren(tasks, groupedTask);\n      tasks = tasks.filter(t => children.indexOf(t) === -1);\n    }\n  }\n  return tasks;\n}\n\nfunction getChildren(taskList: Task[], task: Task) {\n  let tasks: Task[] = [];\n  if (task.type !== \"project\") {\n    tasks = taskList.filter(\n      t => t.dependencies && t.dependencies.indexOf(task.id) !== -1\n    );\n  } else {\n    tasks = taskList.filter(t => t.project && t.project === task.id);\n  }\n  var taskChildren: Task[] = [];\n  tasks.forEach(t => {\n    taskChildren.push(...getChildren(taskList, t));\n  })\n  tasks = tasks.concat(tasks, taskChildren);\n  return tasks;\n}\n\nexport const sortTasks = (taskA: Task, taskB: Task) => {\n  const orderA = taskA.displayOrder || Number.MAX_VALUE;\n  const orderB = taskB.displayOrder || Number.MAX_VALUE;\n  if (orderA > orderB) {\n    return 1;\n  } else if (orderA < orderB) {\n    return -1;\n  } else {\n    return 0;\n  }\n};\n","import React from \"react\";\nimport style from \"./bar.module.css\";\n\ntype BarDisplayProps = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  isSelected: boolean;\n  progressX: number;\n  progressWidth: number;\n  barCornerRadius: number;\n  styles: {\n    backgroundColor: string;\n    backgroundSelectedColor: string;\n    progressColor: string;\n    progressSelectedColor: string;\n  };\n  onMouseDown: (event: React.MouseEvent<SVGPolygonElement, MouseEvent>) => void;\n};\n\nexport const BarDisplay: React.FC<BarDisplayProps> = ({\n  x,\n  y,\n  width,\n  height,\n  isSelected,\n  progressX,\n  progressWidth,\n  barCornerRadius,\n  styles,\n  onMouseDown,\n}) => {\n  const getProcessColor = () => {\n    return isSelected ? styles.progressSelectedColor : styles.progressColor;\n  };\n\n  const getBarColor = () => {\n    return isSelected ? styles.backgroundSelectedColor : styles.backgroundColor;\n  };\n\n  // Detectamos si el progreso es del 100%\n  const isProgressComplete = progressWidth >= width;\n\n\n  return (\n    <g onMouseDown={onMouseDown}>\n      {/* Definimos el patrón de cuadros si el progreso es del 100% */}\n      <defs>\n        <pattern\n          id=\"gridPattern\"\n          width=\"10\"\n          height=\"10\"\n          patternUnits=\"userSpaceOnUse\"\n        >\n          {/* Color de fondo del patrón igual al color de progreso */}\n          <rect width=\"10\" height=\"10\" fill={getProcessColor()} />\n          {/* Los cuadros se mantienen blancos */}\n          <rect width=\"5\" height=\"5\" fill=\"white\" />\n          <rect x=\"5\" y=\"5\" width=\"5\" height=\"5\" fill=\"white\" />\n        </pattern>\n      </defs>\n\n      {/* Fondo de la barra */}\n      <rect\n        x={x}\n        width={width}\n        y={y}\n        height={height}\n        ry={barCornerRadius}\n        rx={barCornerRadius}\n        fill={getBarColor()}\n        className={style.barBackground}\n      />\n\n      {/* Barra de progreso con patrón o color */}\n      <rect\n        x={progressX}\n        width={progressWidth}\n        y={y}\n        height={height}\n        ry={barCornerRadius}\n        rx={barCornerRadius}\n        fill={isProgressComplete ? \"url(#gridPattern)\" : getProcessColor()}\n      />\n\n    </g>\n  );\n};\n","import React from \"react\";\nimport styles from \"./bar.module.css\";\n\ntype BarDateHandleProps = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  barCornerRadius: number;\n  onMouseDown: (event: React.MouseEvent<SVGRectElement, MouseEvent>) => void;\n};\nexport const BarDateHandle: React.FC<BarDateHandleProps> = ({\n  x,\n  y,\n  width,\n  height,\n  barCornerRadius,\n  onMouseDown,\n}) => {\n  return (\n    <rect\n      x={x}\n      y={y}\n      width={width}\n      height={height}\n      className={styles.barHandle}\n      ry={barCornerRadius}\n      rx={barCornerRadius}\n      onMouseDown={onMouseDown}\n    />\n  );\n};\n","import React from \"react\";\nimport styles from \"./bar.module.css\";\n\ntype BarProgressHandleProps = {\n  progressPoint: string;\n  onMouseDown: (event: React.MouseEvent<SVGPolygonElement, MouseEvent>) => void;\n};\nexport const BarProgressHandle: React.FC<BarProgressHandleProps> = ({\n  progressPoint,\n  onMouseDown,\n}) => {\n  return (\n    <polygon\n      className={styles.barHandle}\n      points={progressPoint}\n      onMouseDown={onMouseDown}\n    />\n  );\n};\n","import React from \"react\";\nimport { getProgressPoint } from \"../../../helpers/bar-helper\";\nimport { BarDisplay } from \"./bar-display\";\nimport { BarDateHandle } from \"./bar-date-handle\";\nimport { BarProgressHandle } from \"./bar-progress-handle\";\nimport { TaskItemProps } from \"../task-item\";\nimport styles from \"./bar.module.css\";\n\nexport const Bar: React.FC<TaskItemProps> = ({\n  task,\n  isProgressChangeable,\n  isDateChangeable,\n  rtl,\n  onEventStart,\n  isSelected,\n}) => {\n  const progressPoint = getProgressPoint(\n    +!rtl * task.progressWidth + task.progressX,\n    task.y,\n    task.height\n  );\n  const handleHeight = task.height - 2;\n  return (\n    <g className={styles.barWrapper} tabIndex={0}>\n      <BarDisplay\n        x={task.x1}\n        y={task.y}\n        width={task.x2 - task.x1}\n        height={task.height}\n        progressX={task.progressX}\n        progressWidth={task.progressWidth}\n        barCornerRadius={task.barCornerRadius}\n        styles={task.styles}\n        isSelected={isSelected}\n        onMouseDown={e => {\n          isDateChangeable && onEventStart(\"move\", task, e);\n        }}\n      />\n      <g className=\"handleGroup\">\n        {isDateChangeable && (\n          <g>\n            {/* left */}\n            <BarDateHandle\n              x={task.x1 + 1}\n              y={task.y + 1}\n              width={task.handleWidth}\n              height={handleHeight}\n              barCornerRadius={task.barCornerRadius}\n              onMouseDown={e => {\n                onEventStart(\"start\", task, e);\n              }}\n            />\n            {/* right */}\n            <BarDateHandle\n              x={task.x2 - task.handleWidth - 1}\n              y={task.y + 1}\n              width={task.handleWidth}\n              height={handleHeight}\n              barCornerRadius={task.barCornerRadius}\n              onMouseDown={e => {\n                onEventStart(\"end\", task, e);\n              }}\n            />\n          </g>\n        )}\n        {isProgressChangeable && (\n          <BarProgressHandle\n            progressPoint={progressPoint}\n            onMouseDown={e => {\n              onEventStart(\"progress\", task, e);\n            }}\n          />\n        )}\n      </g>\n    </g>\n  );\n};\n","import React from \"react\";\nimport { getProgressPoint } from \"../../../helpers/bar-helper\";\nimport { BarDisplay } from \"./bar-display\";\nimport { BarProgressHandle } from \"./bar-progress-handle\";\nimport { TaskItemProps } from \"../task-item\";\nimport styles from \"./bar.module.css\";\n\nexport const BarSmall: React.FC<TaskItemProps> = ({\n  task,\n  isProgressChangeable,\n  isDateChangeable,\n  onEventStart,\n  isSelected,\n}) => {\n  const progressPoint = getProgressPoint(\n    task.progressWidth + task.x1,\n    task.y,\n    task.height\n  );\n  return (\n    <g className={styles.barWrapper} tabIndex={0}>\n      <BarDisplay\n        x={task.x1}\n        y={task.y}\n        width={task.x2 - task.x1}\n        height={task.height}\n        progressX={task.progressX}\n        progressWidth={task.progressWidth}\n        barCornerRadius={task.barCornerRadius}\n        styles={task.styles}\n        isSelected={isSelected}\n        onMouseDown={e => {\n          isDateChangeable && onEventStart(\"move\", task, e);\n        }}\n      />\n      <g className=\"handleGroup\">\n        {isProgressChangeable && (\n          <BarProgressHandle\n            progressPoint={progressPoint}\n            onMouseDown={e => {\n              onEventStart(\"progress\", task, e);\n            }}\n          />\n        )}\n      </g>\n    </g>\n  );\n};\n","import React from \"react\";\nimport { TaskItemProps } from \"../task-item\";\nimport styles from \"./milestone.module.css\";\n\nexport const Milestone: React.FC<TaskItemProps> = ({\n  task,\n  isDateChangeable,\n  onEventStart,\n  isSelected,\n}) => {\n  const transform = `rotate(45 ${task.x1 + task.height * 0.356} \n    ${task.y + task.height * 0.85})`;\n  const getBarColor = () => {\n    return isSelected\n      ? task.styles.backgroundSelectedColor\n      : task.styles.backgroundColor;\n  };\n\n  return (\n    <g tabIndex={0} className={styles.milestoneWrapper}>\n      <rect\n        fill={getBarColor()}\n        x={task.x1}\n        width={task.height}\n        y={task.y}\n        height={task.height}\n        rx={task.barCornerRadius}\n        ry={task.barCornerRadius}\n        transform={transform}\n        className={styles.milestoneBackground}\n        onMouseDown={e => {\n          isDateChangeable && onEventStart(\"move\", task, e);\n        }}\n      />\n    </g>\n  );\n};\n","import React from \"react\";\nimport { TaskItemProps } from \"../task-item\";\nimport styles from \"./project.module.css\";\n\nexport const Project: React.FC<TaskItemProps> = ({ task, isSelected }) => {\n  const barColor = isSelected\n    ? task.styles.backgroundSelectedColor\n    : task.styles.backgroundColor;\n  const processColor = isSelected\n    ? task.styles.progressSelectedColor\n    : task.styles.progressColor;\n  const projectWidth = task.x2 - task.x1;\n\n  const projectLeftTriangle = [\n    task.x1,\n    task.y + task.height / 2 - 1,\n    task.x1,\n    task.y + task.height,\n    task.x1 + 15,\n    task.y + task.height / 2 - 1,\n  ].join(\",\");\n  const projectRightTriangle = [\n    task.x2,\n    task.y + task.height / 2 - 1,\n    task.x2,\n    task.y + task.height,\n    task.x2 - 15,\n    task.y + task.height / 2 - 1,\n  ].join(\",\");\n\n  // Detectamos si el progreso es del 100%\n  const isProgressComplete = task.progressWidth >= projectWidth;\n\n  return (\n    <g tabIndex={0} className={styles.projectWrapper}>\n      {/* Definimos el patrón de cuadros si el progreso es del 100% */}\n      <defs>\n        <pattern\n          id=\"gridPatternProject\"\n          width=\"10\"\n          height=\"10\"\n          patternUnits=\"userSpaceOnUse\"\n        >\n          {/* Color de fondo del patrón igual al color de progreso */}\n          <rect width=\"10\" height=\"10\" fill={processColor} />\n          {/* Los cuadros se mantienen blancos */}\n          <rect width=\"5\" height=\"5\" fill=\"white\" />\n          <rect x=\"5\" y=\"5\" width=\"5\" height=\"5\" fill=\"white\" />\n        </pattern>\n      </defs>\n\n      {/* Fondo del proyecto */}\n      <rect\n        fill={barColor}\n        x={task.x1}\n        width={projectWidth}\n        y={task.y}\n        height={task.height}\n        rx={task.barCornerRadius}\n        ry={task.barCornerRadius}\n        className={styles.projectBackground}\n      />\n\n      {/* Progreso del proyecto con patrón o color */}\n      <rect\n        x={task.progressX}\n        width={task.progressWidth}\n        y={task.y}\n        height={task.height}\n        ry={task.barCornerRadius}\n        rx={task.barCornerRadius}\n        fill={isProgressComplete ? \"url(#gridPatternProject)\" : processColor}\n      />\n\n      {/* Renderizar estos elementos solo si el nombre del proyecto no es \"TRAMITACIÓN\" */}\n      {task.name !== \"TRAMITACIÓN\" && (\n  <React.Fragment>\n    <rect\n      fill={barColor}\n      x={task.x1}\n      width={projectWidth}\n      y={task.y}\n      height={task.height / 2}\n      rx={task.barCornerRadius}\n      ry={task.barCornerRadius}\n      className={styles.projectTop}\n    />\n    <polygon\n      className={styles.projectTop}\n      points={projectLeftTriangle}\n      fill={barColor}\n    />\n    <polygon\n      className={styles.projectTop}\n      points={projectRightTriangle}\n      fill={barColor}\n    />\n  </React.Fragment>\n)}\n\n    </g>\n  );\n};\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { BarTask } from \"../../types/bar-task\";\nimport { GanttContentMoveAction } from \"../../types/gantt-task-actions\";\nimport { Bar } from \"./bar/bar\";\nimport { BarSmall } from \"./bar/bar-small\";\nimport { Milestone } from \"./milestone/milestone\";\nimport { Project } from \"./project/project\";\nimport style from \"./task-list.module.css\";\n\nexport type TaskItemProps = {\n  task: BarTask;\n  arrowIndent: number;\n  taskHeight: number;\n  isProgressChangeable: boolean;\n  isDateChangeable: boolean;\n  isDelete: boolean;\n  isSelected: boolean;\n  rtl: boolean;\n  onEventStart: (\n    action: GanttContentMoveAction,\n    selectedTask: BarTask,\n    event?: React.MouseEvent | React.KeyboardEvent\n  ) => any;\n};\n\nexport const TaskItem: React.FC<TaskItemProps> = props => {\n  const {\n    task,\n    arrowIndent,\n    isDelete,\n    taskHeight,\n    isSelected,\n    rtl,\n    onEventStart,\n  } = {\n    ...props,\n  };\n  const textRef = useRef<SVGTextElement>(null);\n  const [taskItem, setTaskItem] = useState<JSX.Element>(<div />);\n  const [isTextInside, setIsTextInside] = useState(true);\n\n  useEffect(() => {\n    switch (task.typeInternal) {\n      case \"milestone\":\n        setTaskItem(<Milestone {...props} />);\n        break;\n      case \"project\":\n        setTaskItem(<Project {...props} />);\n        break;\n      case \"smalltask\":\n        setTaskItem(<BarSmall {...props} />);\n        break;\n      default:\n        setTaskItem(<Bar {...props} />);\n        break;\n    }\n  }, [task, isSelected]);\n\n  useEffect(() => {\n    if (textRef.current) {\n      setIsTextInside(textRef.current.getBBox().width < task.x2 - task.x1);\n    }\n  }, [textRef, task]);\n\n  const getX = () => {\n    const width = task.x2 - task.x1;\n    const hasChild = task.barChildren.length > 0;\n    if (isTextInside) {\n      return task.x1 + width * 0.5;\n    }\n    if (rtl && textRef.current) {\n      return (\n        task.x1 -\n        textRef.current.getBBox().width -\n        arrowIndent * +hasChild -\n        arrowIndent * 0.2\n      );\n    } else {\n      return task.x1 + width + arrowIndent * +hasChild + arrowIndent * 0.2;\n    }\n  };\n\n  const isProgressComplete = task.progress === 100;\n  const labelClassName = `${style.barLabel} ${!isTextInside ? style.barLabelOutside : ''}`;\n  return (\n    <g\n      onKeyDown={e => {\n        switch (e.key) {\n          case \"Delete\": {\n            if (isDelete) onEventStart(\"delete\", task, e);\n            break;\n          }\n        }\n        e.stopPropagation();\n      }}\n      onMouseEnter={e => {\n        onEventStart(\"mouseenter\", task, e);\n      }}\n      onMouseLeave={e => {\n        onEventStart(\"mouseleave\", task, e);\n      }}\n      onDoubleClick={e => {\n        onEventStart(\"dblclick\", task, e);\n      }}\n      onClick={e => {\n        onEventStart(\"click\", task, e);\n      }}\n      onFocus={() => {\n        onEventStart(\"select\", task);\n      }}\n    >\n      {taskItem}\n      {!isProgressComplete && (\n  <text\n    x={getX()}\n    y={task.y + taskHeight * 0.5}\n    className={labelClassName}\n    ref={textRef}\n  >\n    {task.name}\n  </text>\n)}\n    </g>\n  );\n};","import React, { useEffect, useState } from \"react\";\nimport { EventOption } from \"../../types/public-types\";\nimport { BarTask } from \"../../types/bar-task\";\nimport { Arrow } from \"../other/arrow\";\nimport { handleTaskBySVGMouseEvent } from \"../../helpers/bar-helper\";\nimport { isKeyboardEvent } from \"../../helpers/other-helper\";\nimport { TaskItem } from \"../task-item/task-item\";\nimport {\n  BarMoveAction,\n  GanttContentMoveAction,\n  GanttEvent,\n} from \"../../types/gantt-task-actions\";\n\nexport type TaskGanttContentProps = {\n  tasks: BarTask[];\n  dates: Date[];\n  ganttEvent: GanttEvent;\n  selectedTask: BarTask | undefined;\n  rowHeight: number;\n  columnWidth: number;\n  timeStep: number;\n  svg?: React.RefObject<SVGSVGElement>;\n  svgWidth: number;\n  taskHeight: number;\n  arrowColor: string;\n  arrowIndent: number;\n  fontSize: string;\n  fontFamily: string;\n  rtl: boolean;\n  setGanttEvent: (value: GanttEvent) => void;\n  setFailedTask: (value: BarTask | null) => void;\n  setSelectedTask: (taskId: string) => void;\n} & EventOption;\n\nexport const TaskGanttContent: React.FC<TaskGanttContentProps> = ({\n  tasks,\n  dates,\n  ganttEvent,\n  selectedTask,\n  rowHeight,\n  columnWidth,\n  timeStep,\n  svg,\n  taskHeight,\n  arrowColor,\n  arrowIndent,\n  fontFamily,\n  fontSize,\n  rtl,\n  setGanttEvent,\n  setFailedTask,\n  setSelectedTask,\n  onDateChange,\n  onProgressChange,\n  onDoubleClick,\n  onClick,\n  onDelete,\n}) => {\n  const point = svg?.current?.createSVGPoint();\n  const [xStep, setXStep] = useState(0);\n  const [initEventX1Delta, setInitEventX1Delta] = useState(0);\n  const [isMoving, setIsMoving] = useState(false);\n\n  // create xStep\n  useEffect(() => {\n    const dateDelta =\n      dates[1].getTime() -\n      dates[0].getTime() -\n      dates[1].getTimezoneOffset() * 60 * 1000 +\n      dates[0].getTimezoneOffset() * 60 * 1000;\n    const newXStep = (timeStep * columnWidth) / dateDelta;\n    setXStep(newXStep);\n  }, [columnWidth, dates, timeStep]);\n\n  useEffect(() => {\n    const handleMouseMove = async (event: MouseEvent) => {\n      if (!ganttEvent.changedTask || !point || !svg?.current) return;\n      event.preventDefault();\n\n      point.x = event.clientX;\n      const cursor = point.matrixTransform(\n        svg?.current.getScreenCTM()?.inverse()\n      );\n\n      const { isChanged, changedTask } = handleTaskBySVGMouseEvent(\n        cursor.x,\n        ganttEvent.action as BarMoveAction,\n        ganttEvent.changedTask,\n        xStep,\n        timeStep,\n        initEventX1Delta,\n        rtl\n      );\n      if (isChanged) {\n        setGanttEvent({ action: ganttEvent.action, changedTask });\n      }\n    };\n\n    const handleMouseUp = async (event: MouseEvent) => {\n      const { action, originalSelectedTask, changedTask } = ganttEvent;\n      if (!changedTask || !point || !svg?.current || !originalSelectedTask)\n        return;\n      event.preventDefault();\n\n      point.x = event.clientX;\n      const cursor = point.matrixTransform(\n        svg?.current.getScreenCTM()?.inverse()\n      );\n      const { changedTask: newChangedTask } = handleTaskBySVGMouseEvent(\n        cursor.x,\n        action as BarMoveAction,\n        changedTask,\n        xStep,\n        timeStep,\n        initEventX1Delta,\n        rtl\n      );\n\n      const isNotLikeOriginal =\n        originalSelectedTask.start !== newChangedTask.start ||\n        originalSelectedTask.end !== newChangedTask.end ||\n        originalSelectedTask.progress !== newChangedTask.progress;\n\n      // remove listeners\n      svg.current.removeEventListener(\"mousemove\", handleMouseMove);\n      svg.current.removeEventListener(\"mouseup\", handleMouseUp);\n      setGanttEvent({ action: \"\" });\n      setIsMoving(false);\n\n      // custom operation start\n      let operationSuccess = true;\n      if (\n        (action === \"move\" || action === \"end\" || action === \"start\") &&\n        onDateChange &&\n        isNotLikeOriginal\n      ) {\n        try {\n          const result = await onDateChange(\n            newChangedTask,\n            newChangedTask.barChildren\n          );\n          if (result !== undefined) {\n            operationSuccess = result;\n          }\n        } catch (error) {\n          operationSuccess = false;\n        }\n      } else if (onProgressChange && isNotLikeOriginal) {\n        try {\n          const result = await onProgressChange(\n            newChangedTask,\n            newChangedTask.barChildren\n          );\n          if (result !== undefined) {\n            operationSuccess = result;\n          }\n        } catch (error) {\n          operationSuccess = false;\n        }\n      }\n\n      // If operation is failed - return old state\n      if (!operationSuccess) {\n        setFailedTask(originalSelectedTask);\n      }\n    };\n\n    if (\n      !isMoving &&\n      (ganttEvent.action === \"move\" ||\n        ganttEvent.action === \"end\" ||\n        ganttEvent.action === \"start\" ||\n        ganttEvent.action === \"progress\") &&\n      svg?.current\n    ) {\n      svg.current.addEventListener(\"mousemove\", handleMouseMove);\n      svg.current.addEventListener(\"mouseup\", handleMouseUp);\n      setIsMoving(true);\n    }\n  }, [\n    ganttEvent,\n    xStep,\n    initEventX1Delta,\n    onProgressChange,\n    timeStep,\n    onDateChange,\n    svg,\n    isMoving,\n    point,\n    rtl,\n    setFailedTask,\n    setGanttEvent,\n  ]);\n\n  /**\n   * Method is Start point of task change\n   */\n  const handleBarEventStart = async (\n    action: GanttContentMoveAction,\n    task: BarTask,\n    event?: React.MouseEvent | React.KeyboardEvent\n  ) => {\n    if (!event) {\n      if (action === \"select\") {\n        setSelectedTask(task.id);\n      }\n    }\n    // Keyboard events\n    else if (isKeyboardEvent(event)) {\n      if (action === \"delete\") {\n        if (onDelete) {\n          try {\n            const result = await onDelete(task);\n            if (result !== undefined && result) {\n              setGanttEvent({ action, changedTask: task });\n            }\n          } catch (error) {\n            console.error(\"Error on Delete. \" + error);\n          }\n        }\n      }\n    }\n    // Mouse Events\n    else if (action === \"mouseenter\") {\n      if (!ganttEvent.action) {\n        setGanttEvent({\n          action,\n          changedTask: task,\n          originalSelectedTask: task,\n        });\n      }\n    } else if (action === \"mouseleave\") {\n      if (ganttEvent.action === \"mouseenter\") {\n        setGanttEvent({ action: \"\" });\n      }\n    } else if (action === \"dblclick\") {\n      !!onDoubleClick && onDoubleClick(task);\n    } else if (action === \"click\") {\n      !!onClick && onClick(task);\n    }\n    // Change task event start\n    else if (action === \"move\") {\n      if (!svg?.current || !point) return;\n      point.x = event.clientX;\n      const cursor = point.matrixTransform(\n        svg.current.getScreenCTM()?.inverse()\n      );\n      setInitEventX1Delta(cursor.x - task.x1);\n      setGanttEvent({\n        action,\n        changedTask: task,\n        originalSelectedTask: task,\n      });\n    } else {\n      setGanttEvent({\n        action,\n        changedTask: task,\n        originalSelectedTask: task,\n      });\n    }\n  };\n\n  return (\n    <g className=\"content\">\n      <g className=\"arrows\" fill={arrowColor} stroke={arrowColor}>\n        {tasks.map(task => {\n          return task.barChildren.map(child => {\n            // Calcular un arrowIndent dinámico basado en la jerarquía\n            const dynamicArrowIndent = task.project === \"AGRUPADOR1\" \n              ? arrowIndent \n              : arrowIndent / 2;\n              \n            return (\n              <Arrow\n                key={`Arrow from ${task.id} to ${tasks[child.index].id}`}\n                taskFrom={task}\n                taskTo={tasks[child.index]}\n                rowHeight={rowHeight}\n                taskHeight={taskHeight}\n                arrowIndent={dynamicArrowIndent}\n                rtl={rtl}\n              />\n            );\n          });\n        })}\n      </g>\n      <g className=\"bar\" fontFamily={fontFamily} fontSize={fontSize}>\n        {tasks.map(task => {\n          // Ajustar el arrowIndent para las barras basado en la jerarquía\n          const taskArrowIndent = task.project === \"AGRUPADOR1\" \n            ? arrowIndent \n            : arrowIndent / 2;\n            \n          return (\n            <TaskItem\n              task={task}\n              arrowIndent={taskArrowIndent}\n              taskHeight={taskHeight}\n              isProgressChangeable={!!onProgressChange && !task.isDisabled}\n              isDateChangeable={!!onDateChange && !task.isDisabled}\n              isDelete={!task.isDisabled}\n              onEventStart={handleBarEventStart}\n              key={task.id}\n              isSelected={!!selectedTask && task.id === selectedTask.id}\n              rtl={rtl}\n            />\n          );\n        })}\n      </g>\n    </g>\n  );\n};","import React, { useRef, useEffect } from \"react\";\nimport { GridProps, Grid } from \"../grid/grid\";\nimport { CalendarProps, Calendar } from \"../calendar/calendar\";\nimport { TaskGanttContentProps, TaskGanttContent } from \"./task-gantt-content\";\nimport styles from \"./gantt.module.css\";\n\nexport type TaskGanttProps = {\n  gridProps: GridProps;\n  calendarProps: CalendarProps;\n  barProps: TaskGanttContentProps;\n  ganttHeight: number;\n  scrollY: number;\n  scrollX: number;\n};\nexport const TaskGantt: React.FC<TaskGanttProps> = ({\n  gridProps,\n  calendarProps,\n  barProps,\n  ganttHeight,\n  scrollY,\n  scrollX,\n}) => {\n  const ganttSVGRef = useRef<SVGSVGElement>(null);\n  const horizontalContainerRef = useRef<HTMLDivElement>(null);\n  const verticalGanttContainerRef = useRef<HTMLDivElement>(null);\n  const newBarProps = { ...barProps, svg: ganttSVGRef };\n\n  useEffect(() => {\n    if (horizontalContainerRef.current) {\n      horizontalContainerRef.current.scrollTop = scrollY;\n    }\n  }, [scrollY]);\n\n  useEffect(() => {\n    if (verticalGanttContainerRef.current) {\n      verticalGanttContainerRef.current.scrollLeft = scrollX;\n    }\n  }, [scrollX]);\n\n  return (\n    <div\n      className={styles.ganttVerticalContainer}\n      ref={verticalGanttContainerRef}\n      dir=\"ltr\"\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width={gridProps.svgWidth}\n        height={calendarProps.headerHeight}\n        fontFamily={barProps.fontFamily}\n      >\n        <Calendar {...calendarProps} />\n      </svg>\n      <div\n        ref={horizontalContainerRef}\n        className={styles.horizontalContainer}\n        style={\n          ganttHeight\n            ? { height: ganttHeight, width: gridProps.svgWidth }\n            : { width: gridProps.svgWidth }\n        }\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width={gridProps.svgWidth}\n          height={barProps.rowHeight * barProps.tasks.length}\n          fontFamily={barProps.fontFamily}\n          ref={ganttSVGRef}\n        >\n          <Grid {...gridProps} />\n          <TaskGanttContent {...newBarProps} />\n        </svg>\n      </div>\n    </div>\n  );\n};\n","import React, { SyntheticEvent, useRef, useEffect } from \"react\";\nimport styles from \"./horizontal-scroll.module.css\";\n\nexport const HorizontalScroll: React.FC<{\n  scroll: number;\n  svgWidth: number;\n  taskListWidth: number;\n  rtl: boolean;\n  onScroll: (event: SyntheticEvent<HTMLDivElement>) => void;\n}> = ({ scroll, svgWidth, taskListWidth, rtl, onScroll }) => {\n  const scrollRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollLeft = scroll;\n    }\n  }, [scroll]);\n\n  return (\n    <div\n      dir=\"ltr\"\n      style={{\n        margin: rtl\n          ? `0px ${taskListWidth}px 0px 0px`\n          : `0px 0px 0px ${taskListWidth}px`,\n      }}\n      className={styles.scrollWrapper}\n      onScroll={onScroll}\n      ref={scrollRef}\n    >\n      <div style={{ width: svgWidth }} className={styles.scroll} />\n    </div>\n  );\n};\n","import React, {\n  useState,\n  SyntheticEvent,\n  useRef,\n  useEffect,\n  useMemo,\n} from \"react\";\nimport { ViewMode, GanttProps, Task } from \"../../types/public-types\";\nimport { GridProps } from \"../grid/grid\";\nimport { ganttDateRange, seedDates } from \"../../helpers/date-helper\";\nimport { CalendarProps } from \"../calendar/calendar\";\nimport { TaskGanttContentProps } from \"./task-gantt-content\";\nimport { TaskListHeaderDefault } from \"../task-list/task-list-header\";\nimport { TaskListTableDefault } from \"../task-list/task-list-table\";\nimport { StandardTooltipContent, Tooltip } from \"../other/tooltip\";\nimport { VerticalScroll } from \"../other/vertical-scroll\";\nimport { TaskListProps, TaskList } from \"../task-list/task-list\";\nimport { TaskGantt } from \"./task-gantt\";\nimport { BarTask } from \"../../types/bar-task\";\nimport { convertToBarTasks } from \"../../helpers/bar-helper\";\nimport { GanttEvent } from \"../../types/gantt-task-actions\";\nimport { DateSetup } from \"../../types/date-setup\";\nimport { HorizontalScroll } from \"../other/horizontal-scroll\";\nimport { removeHiddenTasks, sortTasks } from \"../../helpers/other-helper\";\nimport styles from \"./gantt.module.css\";\n\nexport const Gantt: React.FunctionComponent<GanttProps> = ({\n  tasks,\n  headerHeight = 50,\n  columnWidth = 60,\n  listCellWidth = \"155px\",\n  rowHeight = 50,\n  ganttHeight = 0,\n  viewMode = ViewMode.Day,\n  preStepsCount = 1,\n  locale = \"en-GB\",\n  weekPrefix = 'W',\n  barFill = 60,\n  barCornerRadius = 3,\n  barProgressColor = \"#a3a3ff\",\n  barProgressSelectedColor = \"#8282f5\",\n  barBackgroundColor = \"#b8c2cc\",\n  barBackgroundSelectedColor = \"#aeb8c2\",\n  projectProgressColor = \"#7db59a\",\n  projectProgressSelectedColor = \"#59a985\",\n  projectBackgroundColor = \"#fac465\",\n  projectBackgroundSelectedColor = \"#f7bb53\",\n  milestoneBackgroundColor = \"#f1c453\",\n  milestoneBackgroundSelectedColor = \"#f29e4c\",\n  rtl = false,\n  handleWidth = 8,\n  timeStep = 300000,\n  arrowColor = \"grey\",\n  fontFamily = \"Arial, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue\",\n  fontSize = \"14px\",\n  arrowIndent = 20,\n  todayColor = \"rgba(252, 248, 227, 0.5)\",\n  todayLineColor = \"rgba(252, 248, 227, 0.5)\",\n  viewDate,\n  TooltipContent = StandardTooltipContent,\n  TaskListHeader = TaskListHeaderDefault,\n  TaskListTable = TaskListTableDefault,\n  onDateChange,\n  onProgressChange,\n  onDoubleClick,\n  onClick,\n  onDelete,\n  onSelect,\n  onExpanderClick,\n}) => {\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const taskListRef = useRef<HTMLDivElement>(null);\n  const [dateSetup, setDateSetup] = useState<DateSetup>(() => {\n    const [startDate, endDate] = ganttDateRange(tasks, viewMode, preStepsCount);\n    return { viewMode, dates: seedDates(startDate, endDate, viewMode) };\n  });\n  const [currentViewDate, setCurrentViewDate] = useState<Date | undefined>(\n    undefined\n  );\n\n  const [taskListWidth, setTaskListWidth] = useState(0);\n  const [svgContainerWidth, setSvgContainerWidth] = useState(0);\n  const [svgContainerHeight, setSvgContainerHeight] = useState(ganttHeight);\n  const [barTasks, setBarTasks] = useState<BarTask[]>([]);\n  const [ganttEvent, setGanttEvent] = useState<GanttEvent>({\n    action: \"\",\n  });\n  const taskHeight = useMemo(\n    () => (rowHeight * barFill) / 100,\n    [rowHeight, barFill]\n  );\n\n  const [selectedTask, setSelectedTask] = useState<BarTask>();\n  const [failedTask, setFailedTask] = useState<BarTask | null>(null);\n\n  const svgWidth = dateSetup.dates.length * columnWidth;\n  const ganttFullHeight = barTasks.length * rowHeight;\n\n  const [scrollY, setScrollY] = useState(0);\n  const [scrollX, setScrollX] = useState(-1);\n  const [ignoreScrollEvent, setIgnoreScrollEvent] = useState(false);\n\n  // task change events\n  useEffect(() => {\n    let filteredTasks: Task[];\n    if (onExpanderClick) {\n      filteredTasks = removeHiddenTasks(tasks);\n    } else {\n      filteredTasks = tasks;\n    }\n    filteredTasks = filteredTasks.sort(sortTasks);\n    const [startDate, endDate] = ganttDateRange(\n      filteredTasks,\n      viewMode,\n      preStepsCount\n    );\n    let newDates = seedDates(startDate, endDate, viewMode);\n    if (rtl) {\n      newDates = newDates.reverse();\n      if (scrollX === -1) {\n        setScrollX(newDates.length * columnWidth);\n      }\n    }\n    setDateSetup({ dates: newDates, viewMode });\n    setBarTasks(\n      convertToBarTasks(\n        filteredTasks,\n        newDates,\n        columnWidth,\n        rowHeight,\n        taskHeight,\n        barCornerRadius,\n        handleWidth,\n        rtl,\n        barProgressColor,\n        barProgressSelectedColor,\n        barBackgroundColor,\n        barBackgroundSelectedColor,\n        projectProgressColor,\n        projectProgressSelectedColor,\n        projectBackgroundColor,\n        projectBackgroundSelectedColor,\n        milestoneBackgroundColor,\n        milestoneBackgroundSelectedColor\n      )\n    );\n  }, [\n    tasks,\n    viewMode,\n    preStepsCount,\n    rowHeight,\n    barCornerRadius,\n    columnWidth,\n    taskHeight,\n    handleWidth,\n    barProgressColor,\n    barProgressSelectedColor,\n    barBackgroundColor,\n    barBackgroundSelectedColor,\n    projectProgressColor,\n    projectProgressSelectedColor,\n    projectBackgroundColor,\n    projectBackgroundSelectedColor,\n    milestoneBackgroundColor,\n    milestoneBackgroundSelectedColor,\n    rtl,\n    scrollX,\n    onExpanderClick,\n  ]);\n\n  useEffect(() => {\n    if (\n      viewMode === dateSetup.viewMode &&\n      ((viewDate && !currentViewDate) ||\n        (viewDate && currentViewDate?.valueOf() !== viewDate.valueOf()))\n    ) {\n      const dates = dateSetup.dates;\n      const index = dates.findIndex(\n        (d, i) =>\n          viewDate.valueOf() >= d.valueOf() &&\n          i + 1 !== dates.length &&\n          viewDate.valueOf() < dates[i + 1].valueOf()\n      );\n      if (index === -1) {\n        return;\n      }\n      setCurrentViewDate(viewDate);\n      setScrollX(columnWidth * index);\n    }\n  }, [\n    viewDate,\n    columnWidth,\n    dateSetup.dates,\n    dateSetup.viewMode,\n    viewMode,\n    currentViewDate,\n    setCurrentViewDate,\n  ]);\n\n  useEffect(() => {\n    const { changedTask, action } = ganttEvent;\n    if (changedTask) {\n      if (action === \"delete\") {\n        setGanttEvent({ action: \"\" });\n        setBarTasks(barTasks.filter(t => t.id !== changedTask.id));\n      } else if (\n        action === \"move\" ||\n        action === \"end\" ||\n        action === \"start\" ||\n        action === \"progress\"\n      ) {\n        const prevStateTask = barTasks.find(t => t.id === changedTask.id);\n        if (\n          prevStateTask &&\n          (prevStateTask.start.getTime() !== changedTask.start.getTime() ||\n            prevStateTask.end.getTime() !== changedTask.end.getTime() ||\n            prevStateTask.progress !== changedTask.progress)\n        ) {\n          // actions for change\n          const newTaskList = barTasks.map(t =>\n            t.id === changedTask.id ? changedTask : t\n          );\n          setBarTasks(newTaskList);\n        }\n      }\n    }\n  }, [ganttEvent, barTasks]);\n\n  useEffect(() => {\n    if (failedTask) {\n      setBarTasks(barTasks.map(t => (t.id !== failedTask.id ? t : failedTask)));\n      setFailedTask(null);\n    }\n  }, [failedTask, barTasks]);\n\n  useEffect(() => {\n    if (!listCellWidth) {\n      setTaskListWidth(0);\n    }\n    if (taskListRef.current) {\n      setTaskListWidth(taskListRef.current.offsetWidth);\n    }\n  }, [taskListRef, listCellWidth]);\n\n  useEffect(() => {\n    if (wrapperRef.current) {\n      setSvgContainerWidth(wrapperRef.current.offsetWidth - taskListWidth);\n    }\n  }, [wrapperRef, taskListWidth]);\n\n  useEffect(() => {\n    if (ganttHeight) {\n      setSvgContainerHeight(ganttHeight + headerHeight);\n    } else {\n      setSvgContainerHeight(tasks.length * rowHeight + headerHeight);\n    }\n  }, [ganttHeight, tasks, headerHeight, rowHeight]);\n\n  // scroll events\n  useEffect(() => {\n    const handleWheel = (event: WheelEvent) => {\n      if (event.shiftKey || event.deltaX) {\n        const scrollMove = event.deltaX ? event.deltaX : event.deltaY;\n        let newScrollX = scrollX + scrollMove;\n        if (newScrollX < 0) {\n          newScrollX = 0;\n        } else if (newScrollX > svgWidth) {\n          newScrollX = svgWidth;\n        }\n        setScrollX(newScrollX);\n        event.preventDefault();\n      } else if (ganttHeight) {\n        let newScrollY = scrollY + event.deltaY;\n        if (newScrollY < 0) {\n          newScrollY = 0;\n        } else if (newScrollY > ganttFullHeight - ganttHeight) {\n          newScrollY = ganttFullHeight - ganttHeight;\n        }\n        if (newScrollY !== scrollY) {\n          setScrollY(newScrollY);\n          event.preventDefault();\n        }\n      }\n\n      setIgnoreScrollEvent(true);\n    };\n\n    // subscribe if scroll is necessary\n    wrapperRef.current?.addEventListener(\"wheel\", handleWheel, {\n      passive: false,\n    });\n    return () => {\n      wrapperRef.current?.removeEventListener(\"wheel\", handleWheel);\n    };\n  }, [\n    wrapperRef,\n    scrollY,\n    scrollX,\n    ganttHeight,\n    svgWidth,\n    rtl,\n    ganttFullHeight,\n  ]);\n\n  const handleScrollY = (event: SyntheticEvent<HTMLDivElement>) => {\n    if (scrollY !== event.currentTarget.scrollTop && !ignoreScrollEvent) {\n      setScrollY(event.currentTarget.scrollTop);\n      setIgnoreScrollEvent(true);\n    } else {\n      setIgnoreScrollEvent(false);\n    }\n  };\n\n  const handleScrollX = (event: SyntheticEvent<HTMLDivElement>) => {\n    if (scrollX !== event.currentTarget.scrollLeft && !ignoreScrollEvent) {\n      setScrollX(event.currentTarget.scrollLeft);\n      setIgnoreScrollEvent(true);\n    } else {\n      setIgnoreScrollEvent(false);\n    }\n  };\n\n  /**\n   * Handles arrow keys events and transform it to new scroll\n   */\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    let newScrollY = scrollY;\n    let newScrollX = scrollX;\n    let isX = true;\n    switch (event.key) {\n      case \"Down\": // IE/Edge specific value\n      case \"ArrowDown\":\n        newScrollY += rowHeight;\n        isX = false;\n        break;\n      case \"Up\": // IE/Edge specific value\n      case \"ArrowUp\":\n        newScrollY -= rowHeight;\n        isX = false;\n        break;\n      case \"Left\":\n      case \"ArrowLeft\":\n        newScrollX -= columnWidth;\n        break;\n      case \"Right\": // IE/Edge specific value\n      case \"ArrowRight\":\n        newScrollX += columnWidth;\n        break;\n    }\n    if (isX) {\n      if (newScrollX < 0) {\n        newScrollX = 0;\n      } else if (newScrollX > svgWidth) {\n        newScrollX = svgWidth;\n      }\n      setScrollX(newScrollX);\n    } else {\n      if (newScrollY < 0) {\n        newScrollY = 0;\n      } else if (newScrollY > ganttFullHeight - ganttHeight) {\n        newScrollY = ganttFullHeight - ganttHeight;\n      }\n      setScrollY(newScrollY);\n    }\n    setIgnoreScrollEvent(true);\n  };\n\n  /**\n   * Task select event\n   */\n  const handleSelectedTask = (taskId: string) => {\n    const newSelectedTask = barTasks.find(t => t.id === taskId);\n    const oldSelectedTask = barTasks.find(\n      t => !!selectedTask && t.id === selectedTask.id\n    );\n    if (onSelect) {\n      if (oldSelectedTask) {\n        onSelect(oldSelectedTask, false);\n      }\n      if (newSelectedTask) {\n        onSelect(newSelectedTask, true);\n      }\n    }\n    setSelectedTask(newSelectedTask);\n  };\n  const handleExpanderClick = (task: Task) => {\n    if (onExpanderClick && task.hideChildren !== undefined) {\n      onExpanderClick({ ...task, hideChildren: !task.hideChildren });\n    }\n  };\n  const gridProps: GridProps = {\n    columnWidth,\n    svgWidth,\n    tasks: tasks,\n    rowHeight,\n    dates: dateSetup.dates,\n    todayColor,\n    todayLineColor,\n    rtl,\n  };\n  const calendarProps: CalendarProps = {\n    dateSetup,\n    locale,\n    viewMode,\n    headerHeight,\n    columnWidth,\n    fontFamily,\n    fontSize,\n    rtl,\n    weekPrefix,\n  };\n  const barProps: TaskGanttContentProps = {\n    tasks: barTasks,\n    dates: dateSetup.dates,\n    ganttEvent,\n    selectedTask,\n    rowHeight,\n    taskHeight,\n    columnWidth,\n    arrowColor,\n    timeStep,\n    fontFamily,\n    fontSize,\n    arrowIndent,\n    svgWidth,\n    rtl,\n    setGanttEvent,\n    setFailedTask,\n    setSelectedTask: handleSelectedTask,\n    onDateChange,\n    onProgressChange,\n    onDoubleClick,\n    onClick,\n    onDelete,\n  };\n\n  const tableProps: TaskListProps = {\n    rowHeight,\n    rowWidth: listCellWidth,\n    fontFamily,\n    fontSize,\n    tasks: barTasks,\n    locale,\n    headerHeight,\n    scrollY,\n    ganttHeight,\n    horizontalContainerClass: styles.horizontalContainer,\n    selectedTask,\n    taskListRef,\n    setSelectedTask: handleSelectedTask,\n    onExpanderClick: handleExpanderClick,\n    TaskListHeader,\n    TaskListTable,\n  };\n  return (\n    <div>\n      <div\n        className={styles.wrapper}\n        onKeyDown={handleKeyDown}\n        tabIndex={0}\n        ref={wrapperRef}\n      >\n        {listCellWidth && <TaskList {...tableProps} />}\n        <TaskGantt\n          gridProps={gridProps}\n          calendarProps={calendarProps}\n          barProps={barProps}\n          ganttHeight={ganttHeight}\n          scrollY={scrollY}\n          scrollX={scrollX}\n        />\n        {ganttEvent.changedTask && (\n          <Tooltip\n            arrowIndent={arrowIndent}\n            rowHeight={rowHeight}\n            svgContainerHeight={svgContainerHeight}\n            svgContainerWidth={svgContainerWidth}\n            fontFamily={fontFamily}\n            fontSize={fontSize}\n            scrollX={scrollX}\n            scrollY={scrollY}\n            task={ganttEvent.changedTask}\n            headerHeight={headerHeight}\n            taskListWidth={taskListWidth}\n            TooltipContent={TooltipContent}\n            rtl={rtl}\n            svgWidth={svgWidth}\n          />\n        )}\n        <VerticalScroll\n          ganttFullHeight={ganttFullHeight}\n          ganttHeight={ganttHeight}\n          headerHeight={headerHeight}\n          scroll={scrollY}\n          onScroll={handleScrollY}\n          rtl={rtl}\n        />\n      </div>\n      <HorizontalScroll\n        svgWidth={svgWidth}\n        taskListWidth={taskListWidth}\n        scroll={scrollX}\n        rtl={rtl}\n        onScroll={handleScrollX}\n      />\n    </div>\n  );\n};\n"],"names":["ViewMode","intlDTCache","getCachedDateTimeFormat","locString","opts","key","JSON","stringify","dtf","Intl","DateTimeFormat","addToDate","date","quantity","scale","newDate","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","startOfDate","scores","shouldReset","_scale","maxScore","indexOf","ganttDateRange","tasks","viewMode","preStepsCount","newStartDate","start","newEndDate","_iterator","_createForOfIteratorHelperLoose","_step","done","task","value","end","Year","QuarterYear","Month","Week","getMonday","Day","QuarterDay","HalfDay","Hour","seedDates","startDate","endDate","currentDate","dates","push","getLocaleMonth","locale","bottomValue","month","format","replace","toLocaleUpperCase","getLocalDayOfWeek","weekday","day","getDay","diff","setDate","getWeekNumberISO8601","tmpDate","valueOf","dayNumber","firstThursday","setMonth","weekNumber","Math","ceil","toString","length","getDaysInMonth","year","TaskListHeaderDefault","_ref","headerHeight","fontFamily","fontSize","rowWidth","React","className","styles","ganttTable","style","ganttTable_Header","height","ganttTable_HeaderItem","minWidth","ganttTable_HeaderSeparator","marginTop","localeDateStringCache","toLocaleDateStringFactory","dateTimeOptions","lds","toLocaleDateString","TaskListTableDefault","rowHeight","onExpanderClick","useMemo","taskListWrapper","map","t","expanderSymbol","hideChildren","taskListTableRow","id","onClick","row","document","querySelector","scrollTop","scrollLeft","localStorage","setItem","String","now","alert","taskListCell","maxWidth","title","name","taskListNameWrapper","taskListExpander","taskListEmptyExpander","Tooltip","rtl","svgContainerHeight","svgContainerWidth","scrollX","scrollY","arrowIndent","taskListWidth","TooltipContent","tooltipRef","useRef","_useState","useState","relatedY","setRelatedY","_useState2","relatedX","setRelatedX","useEffect","current","tooltipHeight","offsetHeight","tooltipWidth","offsetWidth","newRelatedY","index","newRelatedX","x1","x2","tooltipLeftmostPoint","fullChartWidth","tooltipLowerPoint","ref","tooltipDetailsContainer","tooltipDetailsContainerHidden","left","top","StandardTooltipContent","_ref2","tooltipDefaultContainer","getTime","tooltipDefaultContainerParagraph","progress","VerticalScroll","scroll","ganttHeight","ganttFullHeight","onScroll","scrollRef","saved","getItem","savedTimestamp","currentTime","timestamp","parseInt","console","log","handleScroll","e","el","currentTarget","marginLeft","width","TaskList","selectedTask","setSelectedTask","taskListRef","horizontalContainerClass","TaskListHeader","TaskListTable","horizontalContainerRef","headerProps","selectedTaskId","tableProps","GridBody","svgWidth","columnWidth","todayColor","todayLineColor","y","gridRows","rowLines","x","y1","y2","gridRowLine","gridRow","tickX","ticks","today","todayLineX","i","gridTick","fill","stroke","strokeWidth","Grid","props","TopPartOfCalendar","x1Line","y1Line","y2Line","xText","yText","calendarTopTick","calendarTopText","Calendar","dateSetup","weekPrefix","getCalendarValuesForYear","topValues","bottomValues","topDefaultHeight","calendarBottomText","topValue","getCalendarValuesForQuarterYear","quarter","floor","abs","getCalendarValuesForMonth","getCalendarValuesForWeek","weeksCount","getCalendarValuesForDay","getCalendarValuesForPartOfDay","hour","getCalendarValuesForHour","displayDate","topPosition","_getCalendarValuesFor","_getCalendarValuesFor2","_getCalendarValuesFor3","_getCalendarValuesFor4","_getCalendarValuesFor5","_getCalendarValuesFor6","_getCalendarValuesFor7","calendarHeader","Arrow","taskFrom","taskTo","taskHeight","path","trianglePoints","_drownPathAndTriangle","drownPathAndTriangleRTL","_drownPathAndTriangle2","drownPathAndTriangle","d","points","indexCompare","taskToEndPosition","taskFromEndPosition","taskFromHorizontalOffsetValue","taskToHorizontalOffsetValue","convertToBarTasks","barCornerRadius","handleWidth","barProgressColor","barProgressSelectedColor","barBackgroundColor","barBackgroundSelectedColor","projectProgressColor","projectProgressSelectedColor","projectBackgroundColor","projectBackgroundSelectedColor","milestoneBackgroundColor","milestoneBackgroundSelectedColor","barTasks","convertToBarTask","dependencies","_loop","j","dependence","findIndex","barChildren","barTask","type","convertToMilestone","convertToBar","taskXCoordinateRTL","taskXCoordinate","typeInternal","_progressWithByParams","progressWithByParams","progressWidth","progressX","taskYCoordinate","undefined","_extends","backgroundColor","backgroundSelectedColor","progressColor","progressSelectedColor","rotatedHeight","xDate","remainderMillis","percentOfInterval","taskX1","taskX2","progressByX","barWidth","progressPercent","round","progressByXRTL","getProgressPoint","taskY","point","join","startByX","xStep","steps","additionalXValue","newX","endByX","moveByX","newX1","newX2","dateByX","taskX","taskDate","timeStep","getTimezoneOffset","handleTaskBySVGMouseEvent","svgX","action","initEventX1Delta","result","handleTaskBySVGMouseEventForMilestone","handleTaskBySVGMouseEventForBar","changedTask","isChanged","_progressWithByParams2","_progressWithByParams3","_progressWithByParams4","_moveByX","newMoveX1","newMoveX2","_progressWithByParams5","_moveByX2","isKeyboardEvent","event","removeHiddenTasks","groupedTasks","filter","groupedTask","children","getChildren","taskList","project","taskChildren","forEach","apply","concat","sortTasks","taskA","taskB","orderA","displayOrder","Number","MAX_VALUE","orderB","BarDisplay","isSelected","onMouseDown","getProcessColor","getBarColor","isProgressComplete","patternUnits","ry","rx","barBackground","BarDateHandle","barHandle","BarProgressHandle","progressPoint","Bar","isProgressChangeable","isDateChangeable","onEventStart","handleHeight","barWrapper","tabIndex","BarSmall","Milestone","transform","milestoneWrapper","milestoneBackground","Project","barColor","processColor","projectWidth","projectLeftTriangle","projectRightTriangle","projectWrapper","projectBackground","Fragment","projectTop","TaskItem","_props","isDelete","textRef","taskItem","setTaskItem","isTextInside","setIsTextInside","getBBox","getX","hasChild","labelClassName","barLabel","barLabelOutside","onKeyDown","stopPropagation","onMouseEnter","onMouseLeave","onDoubleClick","onFocus","TaskGanttContent","ganttEvent","svg","arrowColor","setGanttEvent","setFailedTask","onDateChange","onProgressChange","onDelete","_svg$current","createSVGPoint","setXStep","setInitEventX1Delta","_useState3","isMoving","setIsMoving","dateDelta","newXStep","handleMouseMove","Promise","resolve","preventDefault","clientX","cursor","matrixTransform","_svg$current$getScree","getScreenCTM","inverse","_handleTaskBySVGMouse","reject","handleMouseUp","operationSuccess","originalSelectedTask","_svg$current$getScree2","_handleTaskBySVGMouse2","newChangedTask","isNotLikeOriginal","removeEventListener","_temp4","_temp","_catch","then","_temp6","_temp2","_temp5","addEventListener","handleBarEventStart","_temp9","_temp8","_temp7","error","_svg$current$getScree3","child","dynamicArrowIndent","taskArrowIndent","isDisabled","TaskGantt","gridProps","calendarProps","barProps","ganttSVGRef","verticalGanttContainerRef","newBarProps","ganttVerticalContainer","dir","xmlns","horizontalContainer","HorizontalScroll","margin","scrollWrapper","Gantt","_ref$headerHeight","_ref$columnWidth","_ref$listCellWidth","listCellWidth","_ref$rowHeight","_ref$ganttHeight","_ref$viewMode","_ref$preStepsCount","_ref$locale","_ref$weekPrefix","_ref$barFill","barFill","_ref$barCornerRadius","_ref$barProgressColor","_ref$barProgressSelec","_ref$barBackgroundCol","_ref$barBackgroundSel","_ref$projectProgressC","_ref$projectProgressS","_ref$projectBackgroun","_ref$projectBackgroun2","_ref$milestoneBackgro","_ref$milestoneBackgro2","_ref$rtl","_ref$handleWidth","_ref$timeStep","_ref$arrowColor","_ref$fontFamily","_ref$fontSize","_ref$arrowIndent","_ref$todayColor","_ref$todayLineColor","viewDate","_ref$TooltipContent","_ref$TaskListHeader","_ref$TaskListTable","onSelect","wrapperRef","_ganttDateRange","setDateSetup","currentViewDate","setCurrentViewDate","setTaskListWidth","_useState4","setSvgContainerWidth","_useState5","setSvgContainerHeight","_useState6","setBarTasks","_useState7","_useState8","_useState9","failedTask","_useState0","setScrollY","_useState1","setScrollX","_useState10","ignoreScrollEvent","setIgnoreScrollEvent","filteredTasks","sort","_ganttDateRange2","newDates","reverse","prevStateTask","find","newTaskList","handleWheel","shiftKey","deltaX","scrollMove","deltaY","newScrollX","newScrollY","_wrapperRef$current","passive","_wrapperRef$current2","handleScrollY","handleScrollX","handleKeyDown","isX","handleSelectedTask","taskId","newSelectedTask","oldSelectedTask","handleExpanderClick","wrapper"],"mappings":"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"}